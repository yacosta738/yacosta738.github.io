---
import { t } from 'i18next'
import { Picture } from '@astrojs/image/components'
import { localizePath } from 'astro-i18next'
import { Article } from '@models:Article'
import PostHeader from 'molecules:PostHeader'

export interface Props {
	article: Article
	hidePostHeaderInSmallScreen?: boolean
}
const { article, hidePostHeaderInSmallScreen = false } = Astro.props
---

<div class='flex flex-col'>
	<h2 class='text-center text-3xl md:text-left md:text-4xl'>
		<a href={localizePath(article.url)} class='inline-link'>{article.title}</a>
	</h2>
	{!hidePostHeaderInSmallScreen && <PostHeader article={article} />}
	<div class='mb-16 flex flex-col justify-center lg:flex-row'>
		<div class='lg:w-2/5'>
			{
				article.cover && (
					<Picture
						alt={article.title}
						class='border border-green-500'
						src={article.cover}
						widths={[200, 500, 800]}
						aspectRatio="4:3"
						fit='fill'
						background='#0A192F'
						sizes="(max-width: 800px) 100vw, 800px"
						height={400}
						width={1000}
					/>
				)
			}
		</div>
		<div class='mx-4 text-justify md:mx-10 md:my-5 lg:w-3/5'>
			<span class='line-clamp-7'>{article.description}</span>
			<a href={localizePath(article.url)} class='inline-link font-bold uppercase'>{t('read')}</a>
		</div>
	</div>
</div>