---
/**
 * Hero section component.
 * This component renders the main hero section of the page, including a greeting,
 * the person's name, a motto, and a professional description. It uses the
 * `TypedText` component to create dynamic, eye-catching text effects.
 *
 * @prop {object} basics - An object containing basic personal information.
 * @prop {string} basics.name - The person's name.
 * @prop {string} basics.label - The person's professional title or label.
 * @prop {string} basics.image - The URL of the profile image.
 * @prop {Location} basics.location - The person's location.
 * @prop {Profile[]} basics.profiles - An array of social media profiles.
 * @prop {string} [basics.phone] - The person's phone number.
 * @prop {string} basics.email - The person's email address.
 */
import TypedText from "@atoms/TypedText.astro";
import Typography from "@atoms/Typography.astro";
import Link from "@/components/atoms/Link.astro";
import type { Location, Profile } from "@/core/resume";
import { type Lang, useTranslations } from "@/i18n";

// Props interface
interface Props {
	basics: {
		name: string;
		label: string;
		image: string;
		location: Location;
		profiles: Profile[];
		phone?: string;
		email: string;
	};
}

const { basics } = Astro.props as Props;
const { name, label, profiles, phone, email } = basics;

const currentLocale = Astro.params.lang as Lang;
const t = useTranslations(currentLocale);

const linkedInfo = profiles.find(({ network }) => network === "LinkedIn");
const linkedUrl = linkedInfo?.url;

const printInfo = [email, phone, linkedUrl].filter(Boolean).join(" ‚Ä¢ ");

// Define passion items for typing effect
const passionItems =
	currentLocale === "en"
		? [
				"Distributed Systems",
				"Domain-Driven Design",
				"Software Architecture",
				"Cloud Native",
				"System Design",
				"Technical Leadership",
				"Microservices",
				"Event-Driven Architecture",
			]
		: [
				"Sistemas Distribuidos",
				"Dise√±o Guiado por el Dominio",
				"Arquitectura de Software",
				"Cloud Native",
				"Dise√±o de Sistemas",
				"Liderazgo T√©cnico",
				"Microservicios",
				"Arquitectura Orientada a Eventos",
			];
---

<section class="max-w-6xl mx-auto mb-12 snap-start">
  <div class="hero-content flex flex-col items-start justify-center min-h-screen max-w-4xl pb-16 max-sm:h-[40vh] print:min-h-0">
    <!-- Greeting -->
    <Typography 
      as="p" 
      variant="body" 
      class="animate-fade-in-up animate-delay-100 animate-duration-slower text-brand-accent font-display text-lg mb-4 font-normal"
    >
      {t('hero.greeting')}
    </Typography>

    <!-- Name -->
    <Typography 
      as="h1" 
      variant="title" 
      class="animate-fade-in-up animate-delay-200 animate-duration-slower text-5xl sm:text-4xl md:text-5xl lg:text-7xl font-bold text-foreground font-display mb-6 leading-tight"
    >
      {name}
    </Typography>

    <!-- Motto/Philosophy -->
    <Typography 
      as="h2" 
      variant="subtitle" 
      class="animate-fade-in-up animate-delay-300 animate-duration-slower text-3xl sm:text-3xl my-3 md:my-2 md:text-4xl lg:text-5xl text-balance font-display mb-8 leading-tight max-w-6xl"
    >
      <TypedText 
        text={t('hero.motto')} 
        speed={60} 
        delay={1000} 
        cursor={true}
        cursorChar="|"
        class="text-foreground-muted"
      />
    </Typography>

    <!-- Professional Description -->
    <Typography 
      as="p" 
      variant="body" 
      class="animate-fade-in-up animate-delay-400 animate-duration-slower text-lg text-foreground-muted max-w-4xl mb-12 leading-relaxed"
    >
      {`${label} ${t('hero.passion')}`} 
      
      <TypedText 
        texts={passionItems}
        speed={80} 
        delay={2000}
        loop={true}
        cursor={true}
        cursorChar="|"
        class="text-brand-accent font-bold"
      />
    </Typography>

    <!-- Get in Touch Button -->
    <div class="animate-fade-in-up animate-delay-500 animate-duration-slower no-print">
      <Link
        href={`mailto:${email}`}
        class="animate-pulse animate-delay-10s animate-fill-both inline-block px-8 py-4 border-2 border-brand-accent text-brand-accent font-display text-lg font-medium rounded hover:bg-brand-accent hover:bg-opacity-10 transition-all duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2"
      >
        üëãüèª  {t('hero.getInTouch')}
      </Link>
    </div>

    <!-- Print Info -->
    <div class="hidden print:block text-sm text-foreground-muted mt-8">
      {printInfo}
    </div>
  </div>
</section>

