---


import PageHeadline from "@/components/atoms/PageHeadline.astro";
import TagBadges from "@/components/molecules/TagBadges.astro";
import Footer from "@/components/organisms/Footer.astro";
import { getTags } from "@/core/tag";
import { type Lang, LOCALES, useTranslations } from "@/i18n";
import { getLangFromUrl } from "@/i18n/utils";
import Layout from "@/layouts/Layout.astro";

export const getStaticPaths = () =>
	Object.keys(LOCALES).map((lang) => ({
		params: { lang },
	}));

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const tags = await getTags({ lang: lang as Lang });

const title = t("tags.title");
---

<Layout {title}>
  <div class="container mx-auto px-4 pt-24">
    <PageHeadline {title}>
      <p class="text-xl">
        {t("tags.description")}
      </p>
    </PageHeadline>
    <TagBadges
      tags={tags.map(tag => ({ title: tag.title, slug: tag.slug }))}
      lang={lang}
      variant="primary"
      size="sm"
    />
  </div>
  <Footer />
</Layout>
