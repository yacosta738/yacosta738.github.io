{"version":3,"file":"geojson-featurestate.js","mappings":"uIAGMA,EAAW,oBAEjBC,MAAMD,GACHE,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAI,IAChCF,MAAK,SAACG,GAeL,OAdAA,EAAQC,OAAOC,KAAK,CAClB,GAAM,cACN,KAAQ,OACR,OAAU,SACV,MAAS,CACP,aAAc,MACd,eAAgB,CACd,OACA,CAAC,UAAW,CAAC,gBAAiB,UAAU,GACxC,GACA,OAIC,QAAK,MAAOF,EAAS,CAACL,SAAUA,GACzC,IACCE,MAAK,SAACM,GACLC,IAAIC,EAAiB,KACrBF,EAAIG,GAAG,eAAe,SAAUC,GAC9BC,IAAMC,EAAWN,EAAIO,mBAAmBH,EAAII,OACxCF,EAASG,OAAS,GACG,OAAnBP,IACF,QAAgBF,EAAK,CAACU,OAAQ,SAAUC,GAAIT,GAAiB,MAE/DA,EAAiBI,EAAS,GAAGM,SAC7B,QACEZ,EACA,CAACU,OAAQ,SAAUC,GAAIT,GACvB,CAACW,OAAO,KAEkB,OAAnBX,KACT,QAAgBF,EAAK,CAACU,OAAQ,SAAUC,GAAIT,GAAiB,MAC7DA,EAAiB,KAErB,GACF,G","sources":["webpack://ol-mapbox-style/./examples/geojson-featurestate.js"],"sourcesContent":["import 'ol/ol.css';\nimport olms, {setFeatureState} from 'ol-mapbox-style';\n\nconst styleUrl = 'data/geojson.json';\n\nfetch(styleUrl)\n  .then((response) => response.json())\n  .then((glStyle) => {\n    glStyle.layers.push({\n      'id': 'state-hover',\n      'type': 'fill',\n      'source': 'states',\n      'paint': {\n        'fill-color': 'red',\n        'fill-opacity': [\n          'case',\n          ['boolean', ['feature-state', 'hover'], false],\n          0.5,\n          0,\n        ],\n      },\n    });\n    return olms('map', glStyle, {styleUrl: styleUrl});\n  })\n  .then((map) => {\n    let hoveredStateId = null;\n    map.on('pointermove', function (evt) {\n      const features = map.getFeaturesAtPixel(evt.pixel);\n      if (features.length > 0) {\n        if (hoveredStateId !== null) {\n          setFeatureState(map, {source: 'states', id: hoveredStateId}, null);\n        }\n        hoveredStateId = features[0].getId();\n        setFeatureState(\n          map,\n          {source: 'states', id: hoveredStateId},\n          {hover: true}\n        );\n      } else if (hoveredStateId !== null) {\n        setFeatureState(map, {source: 'states', id: hoveredStateId}, null);\n        hoveredStateId = null;\n      }\n    });\n  });\n"],"names":["styleUrl","fetch","then","response","json","glStyle","layers","push","map","let","hoveredStateId","on","evt","const","features","getFeaturesAtPixel","pixel","length","source","id","getId","hover"],"sourceRoot":""}