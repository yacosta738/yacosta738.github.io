{"version":3,"file":"index.js","sources":["../../../node_modules/lodash/isObject.js","../../../node_modules/lodash/_freeGlobal.js","../../../node_modules/lodash/_root.js","../../../node_modules/lodash/now.js","../../../node_modules/lodash/_Symbol.js","../../../node_modules/lodash/_getRawTag.js","../../../node_modules/lodash/_objectToString.js","../../../node_modules/lodash/_baseGetTag.js","../../../node_modules/lodash/isObjectLike.js","../../../node_modules/lodash/isSymbol.js","../../../node_modules/lodash/toNumber.js","../../../node_modules/lodash/debounce.js","../../../node_modules/compute-scroll-into-view/es/index.js","../../../node_modules/scroll-into-view-if-needed/es/index.js","../src/hooks/use-editor.ts","../src/components/string.tsx","../src/components/custom.tsx","../src/utils/weak-maps.ts","../../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/isobject/index.js","../node_modules/is-plain-object/index.js","../src/utils/leaf.ts","../src/components/leaf.tsx","../src/components/text.tsx","../src/hooks/use-read-only.ts","../src/hooks/use-selected.ts","../src/components/element.tsx","../src/components/children.tsx","../src/hooks/use-focused.ts","../src/utils/environment.ts","../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../node_modules/@babel/runtime/helpers/slicedToArray.js","../src/utils/dom.ts","../src/utils/utils.ts","../src/components/editor.tsx","../src/hooks/use-slate.ts","../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/createClass.js","../../../node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/superPropBase.js","../../../node_modules/@babel/runtime/helpers/get.js","../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/inherits.js","../src/utils/hotkeys.ts","../src/utils/key.ts","../src/plugin.ts"],"sourcesContent":["/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","function isElement(el) {\n  return el != null && typeof el === 'object' && el.nodeType === 1;\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize || elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\nexport default (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        _height = _frame$getBoundingCli.height,\n        _width = _frame$getBoundingCli.width,\n        _top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        _left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= _top && targetBottom <= bottom && targetLeft >= _left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - _top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(_top, bottom, _height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (_top + _height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - _left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (_left + _width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(_left, right, _width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - _height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - _width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});","import compute from 'compute-scroll-into-view';\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = 'scrollBehavior' in document.body.style;\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  var targetIsDetached = !target.ownerDocument.documentElement.contains(target);\n\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(targetIsDetached ? [] : compute(target, options));\n  }\n\n  if (targetIsDetached) {\n    return;\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(compute(target, computeOptions), computeOptions.behavior);\n}\n\nexport default scrollIntoView;","import { createContext, useContext } from 'react'\nimport { ReactEditor } from '..'\n\n/**\n * A React context for sharing the `ReactEditor` class.\n */\n\nexport const EditorContext = createContext<ReactEditor | undefined>(undefined)\n\n/**\n * Get the current `ReactEditor` class that the component lives under.\n */\n\nexport const useEditor = () => {\n  const editor = useContext(EditorContext)\n\n  if (!editor) {\n    throw new Error(\n      `The \\`useEditor\\` hook must be used inside the <Editor> context.`\n    )\n  }\n\n  return editor\n}\n","import React from 'react'\nimport { Text, Path, Element, Node } from 'slate'\n\nimport { useEditor } from '../hooks/use-editor'\nimport { Leaf } from '../utils/leaf'\n\n/**\n * Leaf content strings.\n */\n\nconst String = (props: {\n  isLast: boolean\n  leaf: Leaf\n  parent: Element\n  text: Text\n}) => {\n  const { isLast, leaf, parent, text } = props\n  const editor = useEditor()\n  const path = editor.findPath(text)\n  const parentPath = Path.parent(path)\n\n  // COMPAT: Render text inside void nodes with a zero-width space.\n  // So the node can contain selection but the text is not visible.\n  if (editor.isVoid(parent)) {\n    return <ZeroWidthString length={Node.text(parent).length} />\n  }\n\n  // COMPAT: If this is the last text node in an empty block, render a zero-\n  // width space that will convert into a line break when copying and pasting\n  // to support expected plain text.\n  if (\n    leaf.text === '' &&\n    parent.nodes[parent.nodes.length - 1] === text &&\n    !editor.isInline(parent) &&\n    editor.getText(parentPath) === ''\n  ) {\n    return <ZeroWidthString isLineBreak />\n  }\n\n  // COMPAT: If the text is empty, it's because it's on the edge of an inline\n  // node, so we render a zero-width space so that the selection can be\n  // inserted next to it still.\n  if (leaf.text === '') {\n    return <ZeroWidthString />\n  }\n\n  // COMPAT: Browsers will collapse trailing new lines at the end of blocks,\n  // so we need to add an extra trailing new lines to prevent that.\n  if (isLast && leaf.text.slice(-1) === '\\n') {\n    return <TextString isTrailing text={leaf.text} />\n  }\n\n  return <TextString text={leaf.text} />\n}\n\n/**\n * Leaf strings with text in them.\n */\n\nconst TextString = (props: { text: string; isTrailing?: boolean }) => {\n  const { text, isTrailing = false } = props\n  return (\n    <span data-slate-string>\n      {text}\n      {isTrailing ? '\\n' : null}\n    </span>\n  )\n}\n\n/**\n * Leaf strings without text, render as zero-width strings.\n */\n\nconst ZeroWidthString = (props: { length?: number; isLineBreak?: boolean }) => {\n  const { length = 0, isLineBreak = false } = props\n  return (\n    <span\n      data-slate-zero-width={isLineBreak ? 'n' : 'z'}\n      data-slate-length={length}\n    >\n      {'\\uFEFF'}\n      {isLineBreak ? <br /> : null}\n    </span>\n  )\n}\n\nexport default String\n","import React from 'react'\nimport { Element, Range, Mark, Text } from 'slate'\n\nimport { useEditor } from '../hooks/use-editor'\nimport { Leaf } from '../utils/leaf'\n\n/**\n * `CustomAnnotationProps` are passed to the `renderAnnotation` handler.\n */\n\nexport interface CustomAnnotationProps {\n  annotation: Range\n  children: any\n  key: string\n  leaf: Leaf\n  text: Text\n  attributes: {\n    'data-slate-annotation': true\n  }\n}\n\n/**\n * The default custom annotation renderer.\n */\n\nexport const CustomAnnotation = (props: CustomAnnotationProps) => {\n  const { attributes, children } = props\n  return <span {...attributes}>{children}</span>\n}\n\nexport interface CustomDecorationProps {\n  children: any\n  decoration: Range\n  leaf: Leaf\n  text: Text\n  attributes: {\n    'data-slate-decoration': true\n  }\n}\n\n/**\n * The default custom decoration renderer.\n */\n\nexport const CustomDecoration = (props: CustomDecorationProps) => {\n  const { attributes, children } = props\n  return <span {...attributes}>{children}</span>\n}\n\n/**\n * `CustomElementProps` are passed to the `renderElement` handler.\n */\n\nexport interface CustomElementProps {\n  children: any\n  element: Element\n  attributes: {\n    'data-slate-inline'?: true\n    'data-slate-node': 'element'\n    'data-slate-void'?: true\n    dir?: 'rtl'\n    ref: any\n  }\n}\n\n/**\n * The default element renderer.\n */\n\nexport const CustomElement = (props: CustomElementProps) => {\n  const { attributes, children, element } = props\n  const editor = useEditor()\n  const Tag = editor.isInline(element) ? 'span' : 'div'\n  return (\n    <Tag {...attributes} style={{ position: 'relative' }}>\n      {children}\n    </Tag>\n  )\n}\n\n/**\n * `CustomMarkProps` are passed to the `renderMark` handler.\n */\n\nexport interface CustomMarkProps {\n  children: any\n  mark: Mark\n  leaf: Leaf\n  text: Text\n  attributes: {\n    'data-slate-mark': true\n  }\n}\n\n/**\n * The default custom mark renderer.\n */\n\nexport const CustomMark = (props: CustomMarkProps) => {\n  const { attributes, children } = props\n  return <span {...attributes}>{children}</span>\n}\n\n/**\n * A custom decoration for the default placeholder behavior.\n */\n\nexport const PlaceholderDecoration = (props: CustomDecorationProps) => {\n  const { decoration, attributes, children } = props\n  const { placeholder } = decoration\n  return (\n    <span {...attributes}>\n      <span\n        contentEditable={false}\n        style={{\n          pointerEvents: 'none',\n          display: 'inline-block',\n          verticalAlign: 'text-top',\n          width: '0',\n          maxWidth: '100%',\n          whiteSpace: 'nowrap',\n          opacity: '0.333',\n        }}\n      >\n        {placeholder}\n      </span>\n      {children}\n    </span>\n  )\n}\n","import { Node, Ancestor, Editor } from 'slate'\n\nimport { Key } from './key'\n\n/**\n * Two weak maps that allow us rebuild a path given a node. They are populated\n * at render time such that after a render occurs we can always backtrack.\n */\n\nexport const NODE_TO_INDEX: WeakMap<Node, number> = new WeakMap()\nexport const NODE_TO_PARENT: WeakMap<Node, Ancestor> = new WeakMap()\n\n/**\n * Weak maps that allow us to go between Slate nodes and DOM nodes. These\n * are used to resolve DOM event-related logic into Slate actions.\n */\n\nexport const EDITOR_TO_ELEMENT: WeakMap<Editor, HTMLElement> = new WeakMap()\nexport const NODE_TO_ELEMENT: WeakMap<Node, HTMLElement> = new WeakMap()\nexport const ELEMENT_TO_NODE: WeakMap<HTMLElement, Node> = new WeakMap()\nexport const NODE_TO_KEY: WeakMap<Node, Key> = new WeakMap()\nexport const KEY_TO_ELEMENT: WeakMap<Key, HTMLElement> = new WeakMap()\n\n/**\n * Weak maps for storing editor-related state.\n */\n\nexport const IS_READ_ONLY: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_FOCUSED: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_DRAGGING: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_CLICKING: WeakMap<Editor, boolean> = new WeakMap()\nexport const PLACEHOLDER: WeakMap<Editor, string | undefined> = new WeakMap()\n\n/**\n * Symbols.\n */\n\nexport const PLACEHOLDER_SYMBOL = Symbol('placeholder')\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nexport default function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nimport isObject from 'isobject';\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport default function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","import isPlainObject from 'is-plain-object'\nimport { Range, Mark } from 'slate'\n\n/**\n * The `Leaf` interface represents the individual leaves inside a text node,\n * once annotations and decorations have been applied.\n */\n\ninterface Leaf {\n  annotations: Record<string, Range>\n  decorations: Range[]\n  marks: Mark[]\n  text: string\n}\n\nnamespace Leaf {\n  /**\n   * Check if two leaves are equal.\n   */\n\n  export const equals = (leaf: Leaf, another: Leaf): boolean => {\n    return (\n      leaf.text === another.text &&\n      leaf.annotations.length === another.annotations.length &&\n      leaf.decorations.length === another.decorations.length &&\n      leaf.marks.length === another.marks.length &&\n      leaf.marks.every(m => Mark.exists(m, another.marks)) &&\n      another.marks.every(m => Mark.exists(m, leaf.marks)) &&\n      isRangeListEqual(leaf.decorations, another.decorations) &&\n      isRangeMapEqual(leaf.annotations, another.annotations)\n    )\n  }\n\n  /**\n   * Check if a value is a `Leaf` object.\n   */\n\n  export const isLeaf = (value: any): value is Leaf => {\n    return (\n      isPlainObject(value) &&\n      typeof value.text === 'string' &&\n      Mark.isMarkSet(value.marks) &&\n      Range.isRangeList(value.decorations) &&\n      Range.isRangeMap(value.annotations)\n    )\n  }\n\n  /**\n   * Split a leaf into two at an offset.\n   */\n\n  export const split = (leaf: Leaf, offset: number): [Leaf, Leaf] => {\n    return [\n      {\n        text: leaf.text.slice(0, offset),\n        marks: leaf.marks,\n        annotations: { ...leaf.annotations },\n        decorations: [...leaf.decorations],\n      },\n      {\n        text: leaf.text.slice(offset),\n        marks: leaf.marks,\n        annotations: { ...leaf.annotations },\n        decorations: [...leaf.decorations],\n      },\n    ]\n  }\n}\n\n/**\n * Check if a list of ranges is equal to another.\n *\n * PERF: this requires the two lists to also have the ranges inside them in the\n * same order, but this is an okay constraint for us since decorations are\n * kept in order, and the odd case where they aren't is okay to re-render for.\n */\n\nconst isRangeListEqual = (list: Range[], another: Range[]): boolean => {\n  if (list.length !== another.length) {\n    return false\n  }\n\n  for (let i = 0; i < list.length; i++) {\n    const range = list[i]\n    const other = another[i]\n\n    if (!Range.equals(range, other)) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Check if a map of ranges is equal to another.\n */\n\nconst isRangeMapEqual = (\n  map: Record<string, Range>,\n  another: Record<string, Range>\n): boolean => {\n  if (Object.keys(map).length !== Object.keys(another).length) {\n    return false\n  }\n\n  for (const key in map) {\n    const range = map[key]\n    const other = another[key]\n\n    if (!Range.equals(range, other)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport { Leaf, isRangeListEqual, isRangeMapEqual }\n","import React from 'react'\nimport { Mark, Range, Text, Element } from 'slate'\nimport String from './string'\nimport {\n  CustomAnnotation,\n  CustomAnnotationProps,\n  CustomDecoration,\n  CustomDecorationProps,\n  CustomMark,\n  CustomMarkProps,\n  PlaceholderDecoration,\n} from './custom'\nimport { PLACEHOLDER_SYMBOL } from '../utils/weak-maps'\nimport { Leaf as SlateLeaf } from '../utils/leaf'\n\n/**\n * Individual leaves in a text node with unique formatting.\n */\n\nconst Leaf = (props: {\n  isLast: boolean\n  leaf: SlateLeaf\n  parent: Element\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\n  renderMark?: (props: CustomMarkProps) => JSX.Element\n  text: Text\n}) => {\n  const {\n    leaf,\n    isLast,\n    text,\n    parent,\n    renderAnnotation = (props: CustomAnnotationProps) => (\n      <CustomAnnotation {...props} />\n    ),\n    renderDecoration = (props: CustomDecorationProps) => (\n      <CustomDecoration {...props} />\n    ),\n    renderMark = (props: CustomMarkProps) => <CustomMark {...props} />,\n  } = props\n\n  let children = (\n    <String isLast={isLast} leaf={leaf} parent={parent} text={text} />\n  )\n\n  // COMPAT: Having the `data-` attributes on these leaf elements ensures that\n  // in certain misbehaving browsers they aren't weirdly cloned/destroyed by\n  // contenteditable behaviors. (2019/05/08)\n  for (const mark of leaf.marks) {\n    const ret = renderMark({\n      children,\n      leaf,\n      mark,\n      text,\n      attributes: {\n        'data-slate-mark': true,\n      },\n    })\n\n    if (ret) {\n      children = ret\n    }\n  }\n\n  for (const decoration of leaf.decorations) {\n    const p = {\n      children,\n      decoration,\n      leaf,\n      text,\n      attributes: {\n        'data-slate-decoration': true,\n      },\n    }\n\n    if (PLACEHOLDER_SYMBOL in decoration) {\n      // @ts-ignore\n      children = <PlaceholderDecoration {...p} />\n    } else {\n      // @ts-ignore\n      const ret = renderDecoration(p)\n\n      if (ret) {\n        children = ret\n      }\n    }\n  }\n\n  for (const key in leaf.annotations) {\n    const annotation = leaf.annotations[key]\n    const ret = renderAnnotation({\n      annotation,\n      children,\n      key,\n      leaf,\n      text,\n      attributes: {\n        'data-slate-annotation': true,\n      },\n    })\n\n    if (ret) {\n      children = ret\n    }\n  }\n\n  return <span data-slate-leaf>{children}</span>\n}\n\nconst MemoizedLeaf = React.memo(Leaf, (prev, next) => {\n  return (\n    next.parent === prev.parent &&\n    next.isLast === prev.isLast &&\n    next.renderAnnotation === prev.renderAnnotation &&\n    next.renderDecoration === prev.renderDecoration &&\n    next.renderMark === prev.renderMark &&\n    next.text === prev.text &&\n    SlateLeaf.equals(next.leaf, prev.leaf)\n  )\n})\n\nexport default MemoizedLeaf\n","import React, { useLayoutEffect, useRef } from 'react'\nimport { Range, Element, Mark, Text as SlateText } from 'slate'\n\nimport Leaf from './leaf'\nimport { Leaf as SlateLeaf } from '../utils/leaf'\nimport { useEditor } from '../hooks/use-editor'\nimport {\n  KEY_TO_ELEMENT,\n  NODE_TO_ELEMENT,\n  ELEMENT_TO_NODE,\n} from '../utils/weak-maps'\nimport {\n  CustomAnnotationProps,\n  CustomDecorationProps,\n  CustomMarkProps,\n} from './custom'\n\n/**\n * Text.\n */\n\nconst Text = (props: {\n  annotations: Record<string, Range>\n  decorations: Range[]\n  isLast: boolean\n  parent: Element\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\n  renderMark?: (props: CustomMarkProps) => JSX.Element\n  text: SlateText\n}) => {\n  const {\n    annotations,\n    decorations,\n    isLast,\n    parent,\n    renderAnnotation,\n    renderDecoration,\n    renderMark,\n    text,\n  } = props\n  const editor = useEditor()\n  const ref = useRef<HTMLSpanElement>(null)\n  const leaves = getLeaves(text, annotations, decorations)\n  const key = editor.findKey(text)\n  const children = []\n\n  for (let i = 0; i < leaves.length; i++) {\n    const leaf = leaves[i]\n\n    children.push(\n      <Leaf\n        isLast={isLast && i === leaves.length - 1}\n        key={`${key.id}-${i}`}\n        leaf={leaf}\n        text={text}\n        parent={parent}\n        renderAnnotation={renderAnnotation}\n        renderDecoration={renderDecoration}\n        renderMark={renderMark}\n      />\n    )\n  }\n\n  console.log('render (text)')\n\n  // Update element-related weak maps with the DOM element ref.\n  useLayoutEffect(() => {\n    if (ref.current) {\n      console.log('add (text)', key)\n      KEY_TO_ELEMENT.set(key, ref.current)\n      NODE_TO_ELEMENT.set(text, ref.current)\n      ELEMENT_TO_NODE.set(ref.current, text)\n    } else {\n      console.log('remove (text)', key)\n      KEY_TO_ELEMENT.delete(key)\n      NODE_TO_ELEMENT.delete(text)\n    }\n  })\n\n  return (\n    <span data-slate-node=\"text\" ref={ref}>\n      {children}\n    </span>\n  )\n}\n\n/**\n * Get the leaves for a text node given annotations and decorations.\n */\n\nconst getLeaves = (\n  node: SlateText,\n  annotations: Record<string, Range>,\n  decorations: Range[]\n): SlateLeaf[] => {\n  const { text, marks } = node\n  let leaves: SlateLeaf[] = [{ text, marks, annotations: {}, decorations: [] }]\n\n  const compile = (\n    collection: 'annotations' | 'decorations',\n    range: Range,\n    key?: string\n  ) => {\n    const [start, end] = Range.edges(range)\n    const next = []\n    let o = 0\n\n    for (const leaf of leaves) {\n      const { length } = leaf.text\n      const offset = o\n      o += length\n\n      // If the range encompases the entire leaf, add the range.\n      if (start.offset <= offset && end.offset >= offset + length) {\n        if (collection === 'annotations') {\n          leaf.annotations[key!] = range\n        } else {\n          leaf.decorations.push(range)\n        }\n\n        next.push(leaf)\n        continue\n      }\n\n      // If the range starts after the leaf, or ends before it, continue.\n      if (\n        start.offset > offset + length ||\n        end.offset < offset ||\n        (end.offset === offset && offset !== 0)\n      ) {\n        next.push(leaf)\n        continue\n      }\n\n      // Otherwise we need to split the leaf, at the start, end, or both,\n      // and add the range to the middle intersecting section. Do the end\n      // split first since we don't need to update the offset that way.\n      let middle = leaf\n      let before\n      let after\n\n      if (end.offset < offset + length) {\n        ;[middle, after] = SlateLeaf.split(middle, end.offset - offset)\n      }\n\n      if (start.offset > offset) {\n        ;[before, middle] = SlateLeaf.split(middle, start.offset - offset)\n      }\n\n      if (collection === 'annotations') {\n        middle.annotations[key!] = range\n      } else {\n        middle.decorations.push(range)\n      }\n\n      if (before) {\n        next.push(before)\n      }\n\n      next.push(middle)\n\n      if (after) {\n        next.push(after)\n      }\n    }\n\n    leaves = next\n  }\n\n  for (const key in annotations) {\n    const range = annotations[key]\n    compile('annotations', range, key)\n  }\n\n  for (const range of decorations) {\n    compile('decorations', range)\n  }\n\n  return leaves\n}\n\nconst MemoizedText = React.memo(Text, (prev, next) => {\n  if (\n    next.parent === prev.parent &&\n    next.isLast === prev.isLast &&\n    next.renderAnnotation === prev.renderAnnotation &&\n    next.renderDecoration === prev.renderDecoration &&\n    next.renderMark === prev.renderMark &&\n    next.text === prev.text\n  ) {\n    return SlateLeaf.equals(\n      {\n        ...next.text,\n        annotations: next.annotations,\n        decorations: next.decorations,\n      },\n      {\n        ...prev.text,\n        annotations: prev.annotations,\n        decorations: prev.decorations,\n      }\n    )\n  }\n\n  return false\n})\n\nexport default MemoizedText\n","import { createContext, useContext } from 'react'\n\n/**\n * A React context for sharing the `readOnly` state of the editor.\n */\n\nexport const ReadOnlyContext = createContext(false)\n\n/**\n * Get the current `readOnly` state of the editor.\n */\n\nexport const useReadOnly = (): boolean => {\n  return useContext(ReadOnlyContext)\n}\n","import { createContext, useContext } from 'react'\n\n/**\n * A React context for sharing the `selected` state of an element.\n */\n\nexport const SelectedContext = createContext(false)\n\n/**\n * Get the current `selected` state of an element.\n */\n\nexport const useSelected = (): boolean => {\n  return useContext(SelectedContext)\n}\n","import React, { useLayoutEffect, useRef } from 'react'\nimport getDirection from 'direction'\nimport { Node, Range, NodeEntry, Element as SlateElement, Path } from 'slate'\n\nimport Text from './text'\nimport Children from './children'\nimport { useEditor } from '../hooks/use-editor'\nimport { useReadOnly } from '../hooks/use-read-only'\nimport { SelectedContext } from '../hooks/use-selected'\nimport {\n  NODE_TO_ELEMENT,\n  ELEMENT_TO_NODE,\n  NODE_TO_PARENT,\n  NODE_TO_INDEX,\n  KEY_TO_ELEMENT,\n} from '../utils/weak-maps'\nimport {\n  CustomAnnotationProps,\n  CustomDecorationProps,\n  CustomElement,\n  CustomElementProps,\n  CustomMarkProps,\n} from './custom'\nimport { isRangeListEqual, isRangeMapEqual } from '../utils/leaf'\n\n/**\n * Element.\n */\n\nconst Element = (props: {\n  annotations: Record<string, Range>\n  decorate: (entry: NodeEntry) => Range[]\n  decorations: Range[]\n  element: SlateElement\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\n  renderElement?: (props: CustomElementProps) => JSX.Element\n  renderMark?: (props: CustomMarkProps) => JSX.Element\n  selection: Range | null\n}) => {\n  const {\n    annotations,\n    decorate,\n    decorations,\n    element,\n    renderAnnotation,\n    renderDecoration,\n    renderElement = (props: CustomElementProps) => <CustomElement {...props} />,\n    renderMark,\n    selection,\n  } = props\n  const ref = useRef<HTMLElement>(null)\n  const editor = useEditor()\n  const readOnly = useReadOnly()\n  const isInline = editor.isInline(element)\n  const key = editor.findKey(element)\n\n  let children: JSX.Element | null = (\n    <Children\n      annotations={annotations}\n      decorate={decorate}\n      decorations={decorations}\n      node={element}\n      renderAnnotation={renderAnnotation}\n      renderDecoration={renderDecoration}\n      renderElement={renderElement}\n      renderMark={renderMark}\n      selection={selection}\n    />\n  )\n\n  // Attributes that the developer must mix into the element in their\n  // custom node renderer component.\n  const attributes: {\n    'data-slate-node': 'element'\n    'data-slate-void'?: true\n    'data-slate-inline'?: true\n    contentEditable?: false\n    dir?: 'rtl'\n    ref: any\n  } = {\n    'data-slate-node': 'element',\n    ref,\n  }\n\n  if (isInline) {\n    attributes['data-slate-inline'] = true\n  }\n\n  // If it's a block node with inline children, add the proper `dir` attribute\n  // for text direction.\n  if (!isInline && editor.hasInlines(element)) {\n    const text = Node.text(element)\n    const dir = getDirection(text)\n\n    if (dir === 'rtl') {\n      attributes.dir = dir\n    }\n  }\n\n  // If it's a void node, wrap the children in extra void-specific elements.\n  if (editor.isVoid(element)) {\n    attributes['data-slate-void'] = true\n\n    if (!readOnly && isInline) {\n      attributes['contentEditable'] = false\n    }\n\n    const Tag = isInline ? 'span' : 'div'\n    const [[text]] = Node.texts(element)\n    children = readOnly ? null : (\n      <Tag\n        data-slate-spacer\n        style={{\n          height: '0',\n          color: 'transparent',\n          outline: 'none',\n          position: 'absolute',\n        }}\n      >\n        <Text\n          annotations={{}}\n          decorations={[]}\n          isLast={false}\n          parent={element}\n          text={text}\n        />\n      </Tag>\n    )\n\n    NODE_TO_INDEX.set(text, 0)\n    NODE_TO_PARENT.set(text, element)\n  }\n\n  console.log('render (element)')\n\n  // Update element-related weak maps with the DOM element ref.\n  useLayoutEffect(() => {\n    if (ref.current) {\n      console.log('add (element)', key)\n      KEY_TO_ELEMENT.set(key, ref.current)\n      NODE_TO_ELEMENT.set(element, ref.current)\n      ELEMENT_TO_NODE.set(ref.current, element)\n    } else {\n      console.log('remove (element)', key)\n      KEY_TO_ELEMENT.delete(key)\n      NODE_TO_ELEMENT.delete(element)\n    }\n  })\n\n  return (\n    <SelectedContext.Provider value={!!selection}>\n      {renderElement({ attributes, children, element })}\n    </SelectedContext.Provider>\n  )\n}\n\nconst MemoizedElement = React.memo(Element, (prev, next) => {\n  return (\n    prev.decorate === next.decorate &&\n    prev.element === next.element &&\n    prev.renderAnnotation === next.renderAnnotation &&\n    prev.renderDecoration === next.renderDecoration &&\n    prev.renderElement === next.renderElement &&\n    prev.renderMark === next.renderMark &&\n    isRangeListEqual(prev.decorations, next.decorations) &&\n    isRangeMapEqual(prev.annotations, next.annotations) &&\n    (prev.selection === next.selection ||\n      (!!prev.selection &&\n        !!next.selection &&\n        Range.equals(prev.selection, next.selection)))\n  )\n})\n\nexport default MemoizedElement\n","import React from 'react'\nimport { Range, Element, NodeEntry, Ancestor, Descendant } from 'slate'\n\nimport ElementComponent from './element'\nimport TextComponent from './text'\nimport { useEditor } from '../hooks/use-editor'\nimport { NODE_TO_INDEX, NODE_TO_PARENT } from '../utils/weak-maps'\nimport {\n  CustomAnnotationProps,\n  CustomDecorationProps,\n  CustomElementProps,\n  CustomMarkProps,\n} from './custom'\n\n/**\n * Children.\n */\n\nconst Children = (props: {\n  annotations: Record<string, Range>\n  decorate: (entry: NodeEntry) => Range[]\n  decorations: Range[]\n  node: Ancestor\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\n  renderElement?: (props: CustomElementProps) => JSX.Element\n  renderMark?: (props: CustomMarkProps) => JSX.Element\n  selection: Range | null\n}) => {\n  const {\n    annotations,\n    decorate,\n    decorations,\n    node,\n    renderAnnotation,\n    renderDecoration,\n    renderElement,\n    renderMark,\n    selection,\n  } = props\n  const editor = useEditor()\n  const path = editor.findPath(node)\n  const children = []\n  const isLeafBlock =\n    Element.isElement(node) && !editor.isInline(node) && editor.hasInlines(node)\n\n  for (let i = 0; i < node.nodes.length; i++) {\n    const p = path.concat(i)\n    const n = node.nodes[i] as Descendant\n    const key = editor.findKey(n)\n    const range = editor.getRange(p)\n    const sel = selection && Range.intersection(range, selection)\n    const decs = decorate([n, p])\n    const anns = {}\n\n    for (const dec of decorations) {\n      const d = Range.intersection(dec, range)\n\n      if (d) {\n        decs.push(d)\n      }\n    }\n\n    for (const k in annotations) {\n      const ann = annotations[k]\n      const a = Range.intersection(ann, range)\n\n      if (a) {\n        anns[k] = a\n      }\n    }\n\n    if (Element.isElement(n)) {\n      children.push(\n        <ElementComponent\n          annotations={anns}\n          decorate={decorate}\n          decorations={decs}\n          element={n}\n          key={key.id}\n          renderAnnotation={renderAnnotation}\n          renderDecoration={renderDecoration}\n          renderElement={renderElement}\n          renderMark={renderMark}\n          selection={sel}\n        />\n      )\n    } else {\n      children.push(\n        <TextComponent\n          annotations={anns}\n          decorations={decs}\n          key={key.id}\n          isLast={isLeafBlock && i === node.nodes.length}\n          parent={node}\n          renderAnnotation={renderAnnotation}\n          renderDecoration={renderDecoration}\n          renderMark={renderMark}\n          text={n}\n        />\n      )\n    }\n\n    NODE_TO_INDEX.set(n, i)\n    NODE_TO_PARENT.set(n, node)\n  }\n\n  return <React.Fragment>{children}</React.Fragment>\n}\n\nexport default Children\n","import { createContext, useContext } from 'react'\n\n/**\n * A React context for sharing the `focused` state of the editor.\n */\n\nexport const FocusedContext = createContext(false)\n\n/**\n * Get the current `focused` state of the editor.\n */\n\nexport const useFocused = (): boolean => {\n  return useContext(FocusedContext)\n}\n","export const IS_IOS =\n  typeof navigator !== 'undefined' &&\n  typeof window !== 'undefined' &&\n  /iPad|iPhone|iPod/.test(navigator.userAgent) &&\n  !window.MSStream\n\nexport const IS_APPLE =\n  typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent)\n\nexport const IS_FIREFOX =\n  typeof navigator !== 'undefined' &&\n  /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent)\n\nexport const IS_SAFARI =\n  typeof navigator !== 'undefined' &&\n  /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/**\n * Types.\n */\n\nexport type DOMComment = Comment\nexport type DOMElement = Element\nexport type DOMText = Text\nexport type DOMNode = Node\nexport type DOMPoint = [Node, number]\nexport type DOMRange = Range\nexport type DOMSelection = Selection\nexport type DOMStaticRange = StaticRange\n\n/**\n * Check if a DOM node is a comment node.\n */\n\nexport const isDOMComment = (value: any): value is DOMComment => {\n  return isDOMNode(value) && value.nodeType === 8\n}\n\n/**\n * Check if a DOM node is an element node.\n */\n\nexport const isDOMElement = (value: any): value is DOMElement => {\n  return isDOMNode(value) && value.nodeType === 1\n}\n\n/**\n * Check if a value is a DOM node.\n */\n\nexport const isDOMNode = (value: any): value is DOMNode => {\n  return value instanceof Node\n}\n\n/**\n * Check if a DOM node is an element node.\n */\n\nexport const isDOMText = (value: any): value is DOMText => {\n  return isDOMNode(value) && value.nodeType === 3\n}\n\n/**\n * Normalize a DOM point so that it always refers to a text node.\n */\n\nexport const normalizeDOMPoint = (domPoint: DOMPoint): DOMPoint => {\n  let [node, offset] = domPoint\n\n  // If it's an element node, its offset refers to the index of its children\n  // including comment nodes, so try to find the right text child node.\n  if (isDOMElement(node) && node.childNodes.length) {\n    const isLast = offset === node.childNodes.length\n    const direction = isLast ? 'backward' : 'forward'\n    const index = isLast ? offset - 1 : offset\n    node = getEditableChild(node, index, direction)\n\n    // If the node has children, traverse until we have a leaf node. Leaf nodes\n    // can be either text nodes, or other void DOM nodes.\n    while (isDOMElement(node) && node.childNodes.length) {\n      const i = isLast ? node.childNodes.length - 1 : 0\n      node = getEditableChild(node, i, direction)\n    }\n\n    // Determine the new offset inside the text node.\n    offset = isLast && node.textContent != null ? node.textContent.length : 0\n  }\n\n  // Return the node and offset.\n  return [node, offset]\n}\n\n/**\n * Get the nearest editable child at `index` in a `parent`, preferring\n * `direction`.\n */\n\nexport const getEditableChild = (\n  parent: DOMElement,\n  index: number,\n  direction: 'forward' | 'backward'\n): DOMNode => {\n  const { childNodes } = parent\n  let child = childNodes[index]\n  let i = index\n  let triedForward = false\n  let triedBackward = false\n\n  // While the child is a comment node, or an element node with no children,\n  // keep iterating to find a sibling non-void, non-comment node.\n  while (\n    isDOMComment(child) ||\n    (isDOMElement(child) && child.childNodes.length === 0) ||\n    (isDOMElement(child) && child.getAttribute('contenteditable') === 'false')\n  ) {\n    if (triedForward && triedBackward) {\n      break\n    }\n\n    if (i >= childNodes.length) {\n      triedForward = true\n      i = index - 1\n      direction = 'backward'\n      continue\n    }\n\n    if (i < 0) {\n      triedBackward = true\n      i = index + 1\n      direction = 'forward'\n      continue\n    }\n\n    child = childNodes[i]\n    i += direction === 'forward' ? 1 : -1\n  }\n\n  return child\n}\n","import { Fragment, Range as SlateRange, Node as SlateNode } from 'slate'\n\nimport { ReactEditor } from '../plugin'\nimport { isDOMText, isDOMElement, DOMNode } from './dom'\n\nnamespace Utils {\n  /**\n   * Get the `Fragment` data from a `DataTransfer` object.\n   */\n\n  export const getFragmentData = (\n    dataTransfer: DataTransfer\n  ): Fragment | undefined => {\n    const base64 = dataTransfer.getData('application/x-slate-fragment')\n\n    if (base64) {\n      const decoded = decodeURIComponent(window.atob(base64))\n      const fragment = JSON.parse(decoded)\n      return fragment\n    }\n  }\n\n  /**\n   * Set the currently selected fragment to the clipboard.\n   */\n\n  export const setFragmentData = (\n    dataTransfer: DataTransfer,\n    editor: ReactEditor\n  ): void => {\n    const { value } = editor\n    const { selection } = value\n\n    if (!selection) {\n      return\n    }\n\n    const [start, end] = SlateRange.edges(selection)\n    const startVoid = editor.getMatch(start.path, 'void')\n    const endVoid = editor.getMatch(end.path, 'void')\n\n    if (SlateRange.isCollapsed(selection) && !startVoid) {\n      return\n    }\n\n    // Create a fake selection so that we can add a Base64-encoded copy of the\n    // fragment to the HTML, to decode on future pastes.\n    const domRange = editor.toDomRange(selection)\n    let contents = domRange.cloneContents()\n    let attach = contents.childNodes[0] as HTMLElement\n\n    // Make sure attach is non-empty, since empty nodes will not get copied.\n    contents.childNodes.forEach(node => {\n      if (node.textContent && node.textContent.trim() !== '') {\n        attach = node as HTMLElement\n      }\n    })\n\n    // COMPAT: If the end node is a void node, we need to move the end of the\n    // range from the void node's spacer span, to the end of the void node's\n    // content, since the spacer is before void's content in the DOM.\n    if (endVoid) {\n      const [voidNode] = endVoid\n      const r = domRange.cloneRange()\n      const domNode = editor.toDomNode(voidNode)\n      r.setEndAfter(domNode)\n      contents = r.cloneContents()\n    }\n\n    // COMPAT: If the start node is a void node, we need to attach the encoded\n    // fragment to the void node's content node instead of the spacer, because\n    // attaching it to empty `<div>/<span>` nodes will end up having it erased by\n    // most browsers. (2018/04/27)\n    if (startVoid) {\n      attach = contents.querySelector('[data-slate-spacer]')! as HTMLElement\n    }\n\n    // Remove any zero-width space spans from the cloned DOM so that they don't\n    // show up elsewhere when pasted.\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(\n      zw => {\n        const isNewline = zw.getAttribute('data-slate-zero-width') === 'n'\n        zw.textContent = isNewline ? '\\n' : ''\n      }\n    )\n\n    // Set a `data-slate-fragment` attribute on a non-empty node, so it shows up\n    // in the HTML, and can be used for intra-Slate pasting. If it's a text\n    // node, wrap it in a `<span>` so we have something to set an attribute on.\n    if (isDOMText(attach)) {\n      const span = document.createElement('span')\n      // COMPAT: In Chrome and Safari, if we don't add the `white-space` style\n      // then leading and trailing spaces will be ignored. (2017/09/21)\n      span.style.whiteSpace = 'pre'\n      span.appendChild(attach)\n      contents.appendChild(span)\n      attach = span\n    }\n\n    const fragment = SlateNode.fragment(value, selection)\n    const string = JSON.stringify(fragment)\n    const encoded = window.btoa(encodeURIComponent(string))\n    attach.setAttribute('data-slate-fragment', encoded)\n    dataTransfer.setData('application/x-slate-fragment', encoded)\n\n    // Add the content to a <div> so that we can get its inner HTML.\n    const div = document.createElement('div')\n    div.appendChild(contents)\n    dataTransfer.setData('text/html', div.innerHTML)\n    dataTransfer.setData('text/plain', getPlainText(div))\n  }\n}\n\n/**\n * Get a plaintext representation of the content of a node, accounting for block\n * elements which get a newline appended.\n */\n\nconst getPlainText = (domNode: DOMNode) => {\n  let text = ''\n\n  if (isDOMText(domNode) && domNode.nodeValue) {\n    return domNode.nodeValue\n  }\n\n  if (isDOMElement(domNode)) {\n    for (const childNode of Array.from(domNode.childNodes)) {\n      text += getPlainText(childNode)\n    }\n\n    var display = getComputedStyle(domNode).getPropertyValue('display')\n\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\n      text += '\\n'\n    }\n  }\n\n  return text\n}\n\nexport { Utils }\n","import React, { useLayoutEffect, useRef, useMemo, useCallback } from 'react'\nimport {\n  Value,\n  Element,\n  NodeEntry,\n  Range as SlateRange,\n  Operation,\n} from 'slate'\nimport debounce from 'lodash/debounce'\nimport scrollIntoView from 'scroll-into-view-if-needed'\n\nimport Children from './children'\nimport { EditorContext } from '../hooks/use-editor'\nimport { FocusedContext } from '../hooks/use-focused'\nimport { IS_FIREFOX, IS_SAFARI } from '../utils/environment'\nimport { ReactEditor } from '../plugin'\nimport { ReadOnlyContext } from '../hooks/use-read-only'\nimport {\n  DOMElement,\n  DOMNode,\n  DOMRange,\n  isDOMElement,\n  isDOMNode,\n  DOMStaticRange,\n} from '../utils/dom'\nimport {\n  EDITOR_TO_ELEMENT,\n  ELEMENT_TO_NODE,\n  IS_READ_ONLY,\n  NODE_TO_ELEMENT,\n  IS_FOCUSED,\n  PLACEHOLDER,\n} from '../utils/weak-maps'\nimport { Utils } from '../utils/utils'\nimport {\n  CustomAnnotationProps,\n  CustomDecorationProps,\n  CustomElementProps,\n  CustomMarkProps,\n} from './custom'\n\n/**\n * Editor.\n */\n\nconst Editor = (props: {\n  decorate?: (entry: NodeEntry) => SlateRange[]\n  editor: ReactEditor\n  onChange: (value: Value, operations: Operation[]) => void\n  placeholder?: string\n  readOnly?: boolean\n  role?: string\n  style?: Record<string, any>\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\n  renderElement?: (props: CustomElementProps) => JSX.Element\n  renderMark?: (props: CustomMarkProps) => JSX.Element\n  value: Value\n  [key: string]: any\n}) => {\n  const {\n    decorate = defaultDecorate,\n    editor,\n    value,\n    onChange,\n    placeholder,\n    readOnly = false,\n    renderAnnotation,\n    renderDecoration,\n    renderElement,\n    renderMark,\n    role = 'textbox',\n    style = {},\n    ...attributes\n  } = props\n  if (!Value.isValue(value)) {\n    throw new Error(\n      `The \\`value=\\` prop you passed to <Editor> was not a valid Slate value: ${JSON.stringify(\n        value\n      )}`\n    )\n  }\n\n  const ref = useRef<HTMLDivElement>(null)\n\n  // Update internal state on each render.\n  editor.onChange = onChange\n  editor.value = value\n  PLACEHOLDER.set(editor, placeholder)\n  IS_READ_ONLY.set(editor, readOnly)\n\n  // Keep track of some state for the event handler logic.\n  const state = useMemo(\n    () => ({\n      isComposing: false,\n      isUpdatingSelection: false,\n      latestElement: null as DOMElement | null,\n    }),\n    []\n  )\n\n  // Update element-related weak maps with the DOM element ref.\n  useLayoutEffect(() => {\n    if (ref.current) {\n      EDITOR_TO_ELEMENT.set(editor, ref.current)\n      NODE_TO_ELEMENT.set(value, ref.current)\n      ELEMENT_TO_NODE.set(ref.current, value)\n    } else {\n      NODE_TO_ELEMENT.delete(value)\n    }\n  })\n\n  // Attach a native DOM event handler for `selectionchange`, because React's\n  // built-in `onSelect` handler doesn't fire for all selection changes. It's a\n  // leaky polyfill that only fires on keypresses or clicks. Instead, we want to\n  // fire for any change to the selection inside the editor. (2019/11/04)\n  // https://github.com/facebook/react/issues/5785\n  useLayoutEffect(() => {\n    window.document.addEventListener('selectionchange', onDOMSelectionChange)\n\n    return () => {\n      window.document.removeEventListener(\n        'selectionchange',\n        onDOMSelectionChange\n      )\n    }\n  }, [])\n\n  // Attach a native DOM event handler for `beforeinput` events, because React's\n  // built-in `onBeforeInput` is actually a leaky polyfill that doesn't expose\n  // real `beforeinput` events sadly... (2019/11/04)\n  // https://github.com/facebook/react/issues/11211\n  useLayoutEffect(() => {\n    if (ref.current) {\n      // @ts-ignore The `beforeinput` event isn't recognized.\n      ref.current.addEventListener('beforeinput', onDOMBeforeInput)\n    }\n\n    return () => {\n      if (ref.current) {\n        // @ts-ignore The `beforeinput` event isn't recognized.\n        ref.current.removeEventListener('beforeinput', onDOMBeforeInput)\n      }\n    }\n  }, [])\n\n  console.log('render')\n\n  // Whenever the editor updates, make sure the DOM selection state is in sync.\n  useLayoutEffect(() => {\n    console.log('useLayoutEffect: sync selection')\n    const { selection } = value\n    const domSelection = window.getSelection()\n\n    if (state.isComposing || !domSelection || !editor.isFocused()) {\n      return\n    }\n\n    const el = editor.toDomNode(value)\n    const domRange = domSelection.getRangeAt(0)\n    const newDomRange = selection && editor.toDomRange(selection)\n\n    if (\n      (!selection && !domRange) ||\n      (domRange && newDomRange && isRangeEqual(domRange, newDomRange))\n    ) {\n      return\n    }\n\n    state.isUpdatingSelection = true\n    console.log('updating domSelection')\n    domSelection.removeAllRanges()\n\n    if (newDomRange) {\n      domSelection.addRange(newDomRange!)\n      const leafEl = newDomRange.startContainer.parentElement!\n      scrollIntoView(leafEl, { scrollMode: 'if-needed' })\n    }\n\n    setTimeout(() => {\n      // COMPAT: In Firefox, it's not enough to create a range, you also need\n      // to focus the contenteditable element too. (2016/11/16)\n      if (newDomRange && IS_FIREFOX) {\n        el.focus()\n      }\n\n      state.isUpdatingSelection = false\n    })\n  })\n\n  // Listen on the native `beforeinput` event to get real \"Level 2\" events. This\n  // is required because React's `beforeinput` is fake and never really attaches\n  // to the real event sadly. (2019/11/01)\n  // https://github.com/facebook/react/issues/11211\n  const onDOMBeforeInput = useCallback(\n    (\n      event: Event & {\n        data: string | null\n        dataTransfer: DataTransfer | null\n        getTargetRanges(): DOMStaticRange[]\n        inputType: string\n        isComposing: boolean\n      }\n    ) => {\n      if (!readOnly && hasEditableTarget(editor, event.target)) {\n        console.log('beforeinput', event)\n        const { inputType } = event\n\n        // These two types occur while a user is composing text and can't be\n        // cancelled. Let them through and wait for the composition to end.\n        if (\n          inputType === 'insertCompositionText' ||\n          inputType === 'deleteCompositionText'\n        ) {\n          return\n        }\n\n        const [targetRange] = event.getTargetRanges()\n\n        if (targetRange && inputType !== 'deleteContent') {\n          const range = editor.toSlateRange(targetRange)\n          editor.select(range)\n        }\n\n        event.preventDefault()\n        editor.onBeforeInput(event)\n      }\n    },\n    []\n  )\n\n  // On native `selectionchange` event, trigger the `onSelect` handler. This is\n  // needed to account for React's `onSelect` being non-standard and not firing\n  // until after a selection has been released. This causes issues in situations\n  // where another change happens while a selection is being dragged.\n  const onDOMSelectionChange = useCallback(\n    debounce(() => {\n      console.log('selectionchange')\n      if (!readOnly && !state.isComposing && !state.isUpdatingSelection) {\n        const { activeElement } = window.document\n        const el = editor.toDomNode(value)\n        const domSelection = window.getSelection()\n        const domRange =\n          domSelection &&\n          domSelection.rangeCount > 0 &&\n          domSelection.getRangeAt(0)\n\n        if (activeElement === el) {\n          state.latestElement = activeElement\n          IS_FOCUSED.set(editor, true)\n        } else {\n          IS_FOCUSED.delete(editor)\n        }\n\n        if (\n          domRange &&\n          hasEditableTarget(editor, domRange.startContainer) &&\n          hasEditableTarget(editor, domRange.endContainer)\n        ) {\n          const range = editor.toSlateRange(domRange)\n          console.log('select', domRange, range)\n          editor.select(range)\n        } else {\n          editor.deselect()\n        }\n      }\n    }, 100),\n    []\n  )\n\n  return (\n    <EditorContext.Provider value={editor}>\n      <ReadOnlyContext.Provider value={readOnly}>\n        <FocusedContext.Provider value={editor.isFocused()}>\n          <div\n            // COMPAT: The Grammarly Chrome extension works by changing the DOM\n            // out from under `contenteditable` elements, which leads to weird\n            // behaviors so we have to disable it like editor. (2017/04/24)\n            data-gramm={false}\n            role={readOnly ? undefined : props.role || 'textbox'}\n            {...attributes}\n            data-slate-editor\n            data-slate-node=\"value\"\n            contentEditable={readOnly ? undefined : true}\n            suppressContentEditableWarning\n            ref={ref}\n            style={{\n              // Prevent the default outline styles.\n              outline: 'none',\n              // Preserve adjacent whitespace and new lines.\n              whiteSpace: 'pre-wrap',\n              // Allow words to break if they are too long.\n              wordWrap: 'break-word',\n              // Allow for passed-in styles to override anything.\n              ...style,\n            }}\n            onBlur={useCallback((event: React.FocusEvent) => {\n              if (\n                !readOnly &&\n                !state.isUpdatingSelection &&\n                hasEditableTarget(editor, event.target) &&\n                // COMPAT: If the current `activeElement` is still the previous\n                // one, this is due to the window being blurred when the tab\n                // itself becomes unfocused, so we want to abort early to allow to\n                // editor to stay focused when the tab becomes focused again.\n                state.latestElement !== window.document.activeElement\n              ) {\n                const { relatedTarget } = event\n\n                // COMPAT: The `relatedTarget` can be null when the new focus target\n                // is not a \"focusable\" element (eg. a `<div>` without `tabindex`\n                // set).\n                if (relatedTarget) {\n                  const el = editor.toDomNode(value)\n\n                  // COMPAT: The event should be ignored if the focus is returning\n                  // to the editor from an embedded editable element (eg. an <input>\n                  // element inside a void node).\n                  if (relatedTarget === el) return\n\n                  if (isDOMElement(relatedTarget)) {\n                    // COMPAT: The event should be ignored if the focus is moving from\n                    // the editor to inside a void node's spacer element.\n                    if (relatedTarget.hasAttribute('data-slate-spacer')) return\n\n                    // COMPAT: The event should be ignored if the focus is moving to a\n                    // non- editable section of an element that isn't a void node (eg.\n                    // a list item of the check list example).\n                    const node = editor.toSlateNode(relatedTarget)\n\n                    if (\n                      editor.hasDomNode(relatedTarget) &&\n                      (!Element.isElement(node) || !editor.isVoid(node))\n                    ) {\n                      return\n                    }\n                  }\n                }\n              }\n\n              IS_FOCUSED.delete(editor)\n            }, [])}\n            onClick={useCallback((event: React.MouseEvent) => {\n              if (\n                !readOnly &&\n                hasTarget(editor, event.target) &&\n                isDOMNode(event.target)\n              ) {\n                const node = editor.toSlateNode(event.target)\n                const path = editor.findPath(node)\n                const start = editor.getStart(path)\n\n                if (editor.getMatch(start, 'void')) {\n                  editor.select(start)\n                }\n              }\n            }, [])}\n            onCompositionEnd={useCallback((event: React.CompositionEvent) => {\n              if (hasEditableTarget(editor, event.target)) {\n                state.isComposing = false\n\n                // COMPAT: In Chrome, `beforeinput` events for compositions\n                // aren't correct and never fire the \"insertFromComposition\"\n                // type that we need. So instead, insert whenever a composition\n                // ends since it will already have been committed to the DOM.\n                if (!IS_SAFARI && event.data) {\n                  editor.insertText(event.data)\n                }\n              }\n            }, [])}\n            onCompositionStart={useCallback((event: React.CompositionEvent) => {\n              if (hasEditableTarget(editor, event.target)) {\n                state.isComposing = true\n              }\n            }, [])}\n            onCopy={useCallback((event: React.ClipboardEvent) => {\n              if (hasEditableTarget(editor, event.target)) {\n                event.preventDefault()\n                Utils.setFragmentData(event.clipboardData, editor)\n              }\n            }, [])}\n            onCut={useCallback((event: React.ClipboardEvent) => {\n              if (!readOnly && hasEditableTarget(editor, event.target)) {\n                event.preventDefault()\n                Utils.setFragmentData(event.clipboardData, editor)\n                const { selection } = value\n\n                if (selection && SlateRange.isExpanded(selection)) {\n                  editor.delete()\n                }\n              }\n            }, [])}\n            onDragOver={useCallback((event: React.DragEvent) => {\n              if (hasTarget(editor, event.target)) {\n                // Only when the target is void, call `preventDefault` to signal\n                // that drops are allowed. Editable content is droppable by\n                // default, and calling `preventDefault` hides the cursor.\n                const node = editor.toSlateNode(event.target)\n\n                if (Element.isElement(node) && editor.isVoid(node)) {\n                  event.preventDefault()\n                }\n              }\n            }, [])}\n            onDragStart={useCallback((event: React.DragEvent) => {\n              if (hasTarget(editor, event.target)) {\n                const node = editor.toSlateNode(event.target)\n                const path = editor.findPath(node)\n                const voidMatch = editor.getMatch(path, 'void')\n\n                // If starting a drag on a void node, make sure it is selected\n                // so that it shows up in the selection's fragment.\n                if (voidMatch) {\n                  const range = editor.getRange(path)\n                  editor.select(range)\n                }\n\n                Utils.setFragmentData(event.dataTransfer, editor)\n              }\n            }, [])}\n            onFocus={useCallback((event: React.FocusEvent) => {\n              if (\n                !readOnly &&\n                !state.isUpdatingSelection &&\n                hasEditableTarget(editor, event.target)\n              ) {\n                const el = editor.toDomNode(value)\n                state.latestElement = window.document.activeElement\n\n                // COMPAT: If the editor has nested editable elements, the focus\n                // can go to them. In Firefox, this must be prevented because it\n                // results in issues with keyboard navigation. (2017/03/30)\n                if (IS_FIREFOX && event.target !== el) {\n                  el.focus()\n                  return\n                }\n\n                IS_FOCUSED.set(editor, true)\n              }\n            }, [])}\n            onKeyDown={event => {\n              if (!readOnly && hasEditableTarget(editor, event.target)) {\n                editor.onKeyDown(event.nativeEvent)\n              }\n            }}\n          >\n            <Children\n              annotations={value.annotations}\n              decorate={decorate}\n              decorations={decorate([value, []])}\n              node={value}\n              renderAnnotation={renderAnnotation}\n              renderDecoration={renderDecoration}\n              renderElement={renderElement}\n              renderMark={renderMark}\n              selection={value.selection}\n            />\n          </div>\n        </FocusedContext.Provider>\n      </ReadOnlyContext.Provider>\n    </EditorContext.Provider>\n  )\n}\n\n/**\n * A default memoized decorate function.\n */\n\nconst defaultDecorate = () => []\n\n/**\n * Check if two DOM range objects are equal.\n */\n\nconst isRangeEqual = (a: DOMRange, b: DOMRange) => {\n  return (\n    (a.startContainer === b.startContainer &&\n      a.startOffset === b.startOffset &&\n      a.endContainer === b.endContainer &&\n      a.endOffset === b.endOffset) ||\n    (a.startContainer === b.endContainer &&\n      a.startOffset === b.endOffset &&\n      a.endContainer === b.startContainer &&\n      a.endOffset === b.startOffset)\n  )\n}\n\n/**\n * Check if the target is in the editor.\n */\n\nconst hasTarget = (\n  editor: ReactEditor,\n  target: EventTarget | null\n): target is DOMNode => {\n  return isDOMNode(target) && editor.hasDomNode(target)\n}\n\n/**\n * Check if the target is editable and in the editor.\n */\n\nconst hasEditableTarget = (\n  editor: ReactEditor,\n  target: EventTarget | null\n): target is DOMNode => {\n  return isDOMNode(target) && editor.hasDomNode(target, { editable: true })\n}\n\nexport default Editor\n","import { useMemo } from 'react'\n\nimport { ReactEditor } from '../plugin'\n\n/**\n * A thin wrapper around `useMemo` to make it easy to get an editor instance.\n */\n\nexport const useSlate = <E extends ReactEditor>(\n  Editor: new (...args: any[]) => E\n): E => {\n  const editor = useMemo(() => new Editor(), [Editor])\n  return editor\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","import { isKeyHotkey } from 'is-hotkey'\nimport { IS_APPLE } from './environment'\n\n/**\n * Hotkey mappings for each platform.\n */\n\nconst HOTKEYS = {\n  bold: 'mod+b',\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\n  moveBackward: 'left',\n  moveForward: 'right',\n  moveWordBackward: 'ctrl+left',\n  moveWordForward: 'ctrl+right',\n  deleteBackward: 'shift?+backspace',\n  deleteForward: 'shift?+delete',\n  extendBackward: 'shift+left',\n  extendForward: 'shift+right',\n  italic: 'mod+i',\n  splitBlock: 'shift?+enter',\n  undo: 'mod+z',\n}\n\nconst APPLE_HOTKEYS = {\n  moveLineBackward: 'opt+up',\n  moveLineForward: 'opt+down',\n  moveWordBackward: 'opt+left',\n  moveWordForward: 'opt+right',\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\n  deleteLineBackward: 'cmd+shift?+backspace',\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\n  deleteWordBackward: 'opt+shift?+backspace',\n  deleteWordForward: 'opt+shift?+delete',\n  extendLineBackward: 'opt+shift+up',\n  extendLineForward: 'opt+shift+down',\n  redo: 'cmd+shift+z',\n  transposeCharacter: 'ctrl+t',\n}\n\nconst WINDOWS_HOTKEYS = {\n  deleteWordBackward: 'ctrl+shift?+backspace',\n  deleteWordForward: 'ctrl+shift?+delete',\n  redo: 'ctrl+y',\n}\n\n/**\n * Create a platform-aware hotkey checker.\n */\n\nconst create = (key: string) => {\n  const generic = HOTKEYS[key]\n  const apple = APPLE_HOTKEYS[key]\n  const windows = WINDOWS_HOTKEYS[key]\n  const isGeneric = generic && isKeyHotkey(generic)\n  const isApple = apple && isKeyHotkey(apple)\n  const isWindows = windows && isKeyHotkey(windows)\n  return (event: KeyboardEvent) => {\n    if (isGeneric && isGeneric(event)) return true\n    if (IS_APPLE && isApple && isApple(event)) return true\n    if (!IS_APPLE && isWindows && isWindows(event)) return true\n    return false\n  }\n}\n\n/**\n * Hotkeys.\n */\n\nexport default {\n  isBold: create('bold'),\n  isCompose: create('compose'),\n  isMoveBackward: create('moveBackward'),\n  isMoveForward: create('moveForward'),\n  isDeleteBackward: create('deleteBackward'),\n  isDeleteForward: create('deleteForward'),\n  isDeleteLineBackward: create('deleteLineBackward'),\n  isDeleteLineForward: create('deleteLineForward'),\n  isDeleteWordBackward: create('deleteWordBackward'),\n  isDeleteWordForward: create('deleteWordForward'),\n  isExtendBackward: create('extendBackward'),\n  isExtendForward: create('extendForward'),\n  isExtendLineBackward: create('extendLineBackward'),\n  isExtendLineForward: create('extendLineForward'),\n  isItalic: create('italic'),\n  isMoveLineBackward: create('moveLineBackward'),\n  isMoveLineForward: create('moveLineForward'),\n  isMoveWordBackward: create('moveWordBackward'),\n  isMoveWordForward: create('moveWordForward'),\n  isRedo: create('redo'),\n  isSplitBlock: create('splitBlock'),\n  isTransposeCharacter: create('transposeCharacter'),\n  isUndo: create('undo'),\n}\n","/**\n * An auto-incrementing identifier for keys.\n */\n\nlet n = 0\n\n/**\n * A class that keeps track of a key string. We use a full class here because we\n * want to be able to use them as keys in `WeakMap` objects.\n */\n\nexport class Key {\n  id: string\n\n  constructor() {\n    this.id = `${n++}`\n  }\n}\n","import {\n  Editor,\n  Element as SlateElement,\n  Node as SlateNode,\n  Operation as SlateOperation,\n  Path as SlatePath,\n  Point as SlatePoint,\n  Range as SlateRange,\n  Value as SlateValue,\n  Path,\n} from 'slate'\n\nimport Hotkeys from './utils/hotkeys'\nimport { Key } from './utils/key'\nimport { Utils } from './utils/utils'\nimport {\n  EDITOR_TO_ELEMENT,\n  ELEMENT_TO_NODE,\n  IS_FOCUSED,\n  IS_READ_ONLY,\n  KEY_TO_ELEMENT,\n  NODE_TO_INDEX,\n  NODE_TO_KEY,\n  NODE_TO_PARENT,\n  PLACEHOLDER,\n  PLACEHOLDER_SYMBOL,\n} from './utils/weak-maps'\nimport {\n  DOMElement,\n  DOMNode,\n  DOMPoint,\n  DOMRange,\n  DOMSelection,\n  DOMStaticRange,\n  isDOMElement,\n  normalizeDOMPoint,\n} from './utils/dom'\n\n/**\n * `ReactEditor` is a Slate editor interface with the React mixin applied.\n */\n\nexport type ReactEditor = InstanceType<ReturnType<typeof withReact>>\n\n/**\n * `withReact` adds React and DOM specific behaviors to the editor.\n */\n\nexport const withReact = (Editor: new (...args: any[]) => Editor) => {\n  return class ReactEditor extends Editor {\n    apply(op: SlateOperation): void {\n      const matches: [SlatePath, Key][] = []\n\n      switch (op.type) {\n        case 'add_mark':\n        case 'insert_text':\n        case 'remove_mark':\n        case 'remove_text':\n        case 'set_mark':\n        case 'set_node': {\n          for (const [node, path] of this.levels({ at: op.path })) {\n            const key = this.findKey(node)\n            matches.push([path, key])\n          }\n\n          break\n        }\n\n        case 'insert_node':\n        case 'remove_node':\n        case 'merge_node':\n        case 'split_node': {\n          for (const [node, path] of this.levels({\n            at: Path.parent(op.path),\n          })) {\n            const key = this.findKey(node)\n            matches.push([path, key])\n          }\n\n          break\n        }\n\n        case 'move_node': {\n          // TODO\n          break\n        }\n      }\n\n      super.apply(op)\n\n      for (const [path, key] of matches) {\n        const [node] = this.getNode(path)\n        NODE_TO_KEY.set(node, key)\n      }\n    }\n\n    /**\n     * Find a key for a Slate node.\n     */\n\n    findKey(node: SlateNode): Key {\n      let key = NODE_TO_KEY.get(node)\n\n      if (!key) {\n        key = new Key()\n        NODE_TO_KEY.set(node, key)\n      }\n\n      return key\n    }\n\n    /**\n     * Find the path of Slate node.\n     */\n\n    findPath(node: SlateNode): SlatePath {\n      const path: SlatePath = []\n      let child = node\n\n      while (true) {\n        const parent = NODE_TO_PARENT.get(child)\n\n        if (parent == null) {\n          if (SlateValue.isValue(child)) {\n            return path\n          } else {\n            break\n          }\n        }\n\n        const i = NODE_TO_INDEX.get(child)\n\n        if (i == null) {\n          break\n        }\n\n        path.unshift(i)\n        child = parent\n      }\n\n      throw new Error(\n        `Unable to find the path for Slate node: ${JSON.stringify(node)}`\n      )\n    }\n\n    /**\n     * Resolve the decorations for a node.\n     */\n\n    getDecorations(node: SlateNode): SlateRange[] {\n      const placeholder = PLACEHOLDER.get(this)\n      const decorations = []\n\n      if (\n        placeholder &&\n        SlateValue.isValue(node) &&\n        node.nodes.length === 1 &&\n        Array.from(SlateNode.texts(node)).length === 1 &&\n        SlateNode.text(node) === ''\n      ) {\n        const start = this.getStart([])\n        decorations.push({\n          [PLACEHOLDER_SYMBOL]: true,\n          placeholder,\n          anchor: start,\n          focus: start,\n        })\n      }\n\n      return decorations\n    }\n\n    /**\n     * Check if the editor is focused.\n     */\n\n    isFocused(): boolean {\n      return !!IS_FOCUSED.get(this)\n    }\n\n    /**\n     * Check if the editor is in read-only mode.\n     */\n\n    isReadOnly(): boolean {\n      return !!IS_READ_ONLY.get(this)\n    }\n\n    /**\n     * Blur the editor.\n     */\n\n    blur(): void {\n      const el = this.toDomNode(this.value)\n      IS_FOCUSED.set(this, false)\n\n      if (window.document.activeElement === el) {\n        el.blur()\n      }\n    }\n\n    /**\n     * Focus the editor.\n     */\n\n    focus(): void {\n      const el = this.toDomNode(this.value)\n      IS_FOCUSED.set(this, true)\n\n      if (window.document.activeElement !== el) {\n        el.focus({ preventScroll: true })\n      }\n    }\n\n    /**\n     * Deselect the editor.\n     */\n\n    deselect(): void {\n      const { selection } = this.value\n      const domSelection = window.getSelection()\n\n      if (domSelection && domSelection.rangeCount > 0) {\n        domSelection.removeAllRanges()\n      }\n\n      if (selection) {\n        this.apply({\n          type: 'set_selection',\n          properties: selection,\n          newProperties: null,\n        })\n      }\n    }\n\n    /**\n     * Insert a `DataTransfer` object.\n     */\n\n    insertData(dataTransfer: DataTransfer): void {\n      const fragment = Utils.getFragmentData(dataTransfer)\n\n      if (fragment) {\n        this.insertFragment(fragment)\n        return\n      }\n\n      const text = dataTransfer.getData('text/plain')\n\n      if (text) {\n        const lines = text.split('\\n')\n        let split = false\n\n        for (const line of lines) {\n          if (split) {\n            this.splitNodes()\n          }\n\n          this.insertText(line)\n          split = true\n        }\n      }\n    }\n\n    /**\n     * Transform an `InputEvent` into commands on the editor.\n     */\n\n    onBeforeInput(\n      event: Event & {\n        data: string | null\n        dataTransfer: DataTransfer | null\n        getTargetRanges(): DOMStaticRange[]\n        inputType: string\n        isComposing: boolean\n      }\n    ): void {\n      const { inputType, data, dataTransfer } = event\n\n      // Each of these input types reflects specific user intent, and most of them\n      // are cancellable so we can perform the action on the Slate model direclty.\n      // https://w3c.github.io/input-events/#dom-inputevent-inputtype\n      switch (inputType) {\n        case 'deleteByComposition':\n        case 'deleteByCut':\n        case 'deleteByDrag':\n        case 'deleteContent':\n        case 'deleteContentForward': {\n          this.delete()\n          break\n        }\n\n        case 'deleteContentBackward': {\n          this.delete({ reverse: true })\n          break\n        }\n\n        case 'deleteEntireSoftLine': {\n          this.delete({ unit: 'line', reverse: true })\n          this.delete({ unit: 'line' })\n          break\n        }\n\n        case 'deleteSoftLineBackward':\n        case 'deleteHardLineBackward': {\n          this.delete({ unit: 'line', reverse: true })\n          break\n        }\n\n        case 'deleteSoftLineForward':\n        case 'deleteHardLineForward': {\n          this.delete({ unit: 'line' })\n          break\n        }\n\n        case 'deleteWordBackward': {\n          this.delete({ unit: 'word', reverse: true })\n          break\n        }\n\n        case 'deleteWordForward': {\n          this.delete({ unit: 'word' })\n          break\n        }\n\n        case 'historyRedo': {\n          this.redo()\n          break\n        }\n\n        case 'historyUndo': {\n          this.undo()\n          break\n        }\n\n        case 'insertLineBreak':\n        case 'insertParagraph': {\n          this.splitNodes({ always: true })\n          break\n        }\n\n        case 'insertFromComposition':\n        case 'insertFromDrop':\n        case 'insertFromPaste':\n        case 'insertFromYank':\n        case 'insertReplacementText':\n        case 'insertText': {\n          if (dataTransfer != null) {\n            this.insertData(dataTransfer)\n          } else if (data != null) {\n            this.insertText(data)\n          }\n\n          break\n        }\n      }\n    }\n\n    /**\n     * Transform a `KeyboardEvent` into commands on the editor. This should only\n     * be used for hotkeys which attach specific commands to specific key\n     * combinations. Most input logic will be handled by the `onBeforeInput`\n     * method instead.\n     */\n\n    onKeyDown(event: KeyboardEvent): void {\n      // COMPAT: Since we prevent the default behavior on `beforeinput` events,\n      // the browser doesn't think there's ever any history stack to undo or redo,\n      // so we have to manage these hotkeys ourselves. (2019/11/06)\n      if (Hotkeys.isRedo(event)) {\n        this.redo()\n        return\n      }\n\n      if (Hotkeys.isUndo(event)) {\n        this.undo()\n        return\n      }\n\n      // COMPAT: Certain browsers don't handle the selection updates\n      // properly. In Chrome, the selection isn't properly extended.\n      // And in Firefox, the selection isn't properly collapsed.\n      // (2017/10/17)\n      if (Hotkeys.isMoveLineBackward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'line', reverse: true })\n        return\n      }\n\n      if (Hotkeys.isMoveLineForward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'line' })\n        return\n      }\n\n      if (Hotkeys.isExtendLineBackward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'line', edge: 'focus', reverse: true })\n        return\n      }\n\n      if (Hotkeys.isExtendLineForward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'line', edge: 'focus' })\n        return\n      }\n\n      // COMPAT: If a void node is selected, or a zero-width text node\n      // adjacent to an inline is selected, we need to handle these\n      // hotkeys manually because browsers won't be able to skip over\n      // the void node with the zero-width space not being an empty\n      // string.\n      if (Hotkeys.isMoveBackward(event)) {\n        const { selection } = this.value\n        event.preventDefault()\n\n        if (selection && SlateRange.isCollapsed(selection)) {\n          this.move({ reverse: true })\n        } else {\n          this.collapse({ edge: 'start' })\n        }\n\n        return\n      }\n\n      if (Hotkeys.isMoveForward(event)) {\n        const { selection } = this.value\n        event.preventDefault()\n\n        if (selection && SlateRange.isCollapsed(selection)) {\n          this.move()\n        } else {\n          this.collapse({ edge: 'end' })\n        }\n\n        return\n      }\n\n      if (Hotkeys.isMoveWordBackward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'word', reverse: true })\n        return\n      }\n\n      if (Hotkeys.isMoveWordForward(event)) {\n        event.preventDefault()\n        this.move({ unit: 'word' })\n        return\n      }\n    }\n\n    /**\n     * Redo.\n     */\n\n    redo(): void {}\n\n    /**\n     * Undo.\n     */\n\n    undo(): void {}\n\n    /**\n     * Check if a DOM node is within the editor.\n     */\n\n    hasDomNode(target: DOMNode, options: { editable?: boolean } = {}): boolean {\n      const { editable = false } = options\n      const el = this.toDomNode(this.value)\n      let element\n\n      // COMPAT: In Firefox, reading `target.nodeType` will throw an error if\n      // target is originating from an internal \"restricted\" element (e.g. a\n      // stepper arrow on a number input). (2018/05/04)\n      // https://github.com/ianstormtaylor/slate/issues/1819\n      try {\n        element = isDOMElement(target) ? target : target.parentElement\n      } catch (err) {\n        if (\n          !err.message.includes(\n            'Permission denied to access property \"nodeType\"'\n          )\n        ) {\n          throw err\n        }\n      }\n\n      if (!element) {\n        return false\n      }\n\n      return (\n        element.closest(`[data-slate-editor]`) === el &&\n        (!editable || el.isContentEditable)\n      )\n    }\n\n    /**\n     * Find the native DOM element from a Slate node.\n     */\n\n    toDomNode(node: SlateNode): HTMLElement {\n      const domNode = SlateValue.isValue(node)\n        ? EDITOR_TO_ELEMENT.get(this)\n        : KEY_TO_ELEMENT.get(this.findKey(node))\n\n      if (!domNode) {\n        throw new Error(\n          `Cannot resolve a DOM node from Slate node: ${JSON.stringify(node)}`\n        )\n      }\n\n      return domNode\n    }\n\n    /**\n     * Find a native DOM selection point from a Slate point.\n     */\n\n    toDomPoint(point: SlatePoint): DOMPoint {\n      const [node] = this.getNode(point.path)\n      const el = this.toDomNode(node)\n      let domPoint: DOMPoint | undefined\n\n      // For each leaf, we need to isolate its content, which means filtering\n      // to its direct text and zero-width spans. (We have to filter out any\n      // other siblings that may have been rendered alongside them.)\n      const selector = `[data-slate-string], [data-slate-zero-width]`\n      const texts = Array.from(el.querySelectorAll(selector))\n      let start = 0\n\n      for (const text of texts) {\n        const domNode = text.childNodes[0] as HTMLElement\n\n        if (domNode == null || domNode.textContent == null) {\n          continue\n        }\n\n        const { length } = domNode.textContent\n        const attr = text.getAttribute('data-slate-length')\n        const trueLength = attr == null ? length : parseInt(attr, 10)\n        const end = start + trueLength\n\n        if (point.offset <= end) {\n          const offset = Math.min(length, Math.max(0, point.offset - start))\n          domPoint = [domNode, offset]\n          break\n        }\n\n        start = end\n      }\n\n      if (!domPoint) {\n        throw new Error(\n          `Cannot resolve a DOM point from Slate point: ${JSON.stringify(\n            point\n          )}`\n        )\n      }\n\n      return domPoint\n    }\n\n    /**\n     * Find a native DOM range from a Slate `range`.\n     */\n\n    toDomRange(range: SlateRange): DOMRange {\n      const { anchor, focus } = range\n      const domAnchor = this.toDomPoint(anchor)\n      const domFocus = SlateRange.isCollapsed(range)\n        ? domAnchor\n        : this.toDomPoint(focus)\n\n      const domRange = window.document.createRange()\n      const start = SlateRange.isBackward(range) ? domFocus : domAnchor\n      const end = SlateRange.isBackward(range) ? domAnchor : domFocus\n      domRange.setStart(start[0], start[1])\n      domRange.setEnd(end[0], end[1])\n      return domRange\n    }\n\n    /**\n     * Find a Slate node from a native DOM `element`.\n     */\n\n    toSlateNode(domNode: DOMNode): SlateNode {\n      let domEl = isDOMElement(domNode) ? domNode : domNode.parentElement\n\n      if (domEl && !domEl.hasAttribute('data-slate-node')) {\n        domEl = domEl.closest(`[data-slate-node]`)\n      }\n\n      const node = domEl ? ELEMENT_TO_NODE.get(domEl as HTMLElement) : null\n\n      if (!node) {\n        throw new Error(`Cannot resolve a Slate node from DOM node: ${domEl}`)\n      }\n\n      return node\n    }\n\n    /**\n     * Get the target range from a DOM `event`.\n     */\n\n    findEventRange(event: any): SlateRange | undefined {\n      if ('nativeEvent' in event) {\n        event = event.nativeEvent\n      }\n\n      const { clientX: x, clientY: y, target } = event\n\n      if (x == null || y == null) {\n        return\n      }\n\n      const node = this.toSlateNode(event.target)\n      const path = this.findPath(node)\n\n      // If the drop target is inside a void node, move it into either the\n      // next or previous node, depending on which side the `x` and `y`\n      // coordinates are closest to.\n      if (SlateElement.isElement(node) && this.isVoid(node)) {\n        const rect = target.getBoundingClientRect()\n        const isPrev = this.isInline(node)\n          ? x - rect.left < rect.left + rect.width - x\n          : y - rect.top < rect.top + rect.height - y\n\n        const edge = this.getPoint(path, { edge: isPrev ? 'start' : 'end' })\n        const point = isPrev ? this.getBefore(edge) : this.getAfter(edge)\n\n        if (point) {\n          const range = this.getRange(point)\n          return range\n        }\n      }\n\n      // Else resolve a range from the caret position where the drop occured.\n      let domRange\n      const { document } = window\n\n      // COMPAT: In Firefox, `caretRangeFromPoint` doesn't exist. (2016/07/25)\n      if (document.caretRangeFromPoint) {\n        domRange = document.caretRangeFromPoint(x, y)\n      } else {\n        const position = document.caretPositionFromPoint(x, y)\n\n        if (position) {\n          domRange = document.createRange()\n          domRange.setStart(position.offsetNode, position.offset)\n          domRange.setEnd(position.offsetNode, position.offset)\n        }\n      }\n\n      if (!domRange) {\n        throw new Error(\n          `Cannot resolve a Slate range from a DOM event: ${event}`\n        )\n      }\n\n      // Resolve a Slate range from the DOM range.\n      const range = this.toSlateRange(domRange)\n      return range\n    }\n\n    /**\n     * Find a Slate point from a DOM selection's `domNode` and `domOffset`.\n     */\n\n    toSlatePoint(domPoint: DOMPoint): SlatePoint {\n      const [nearestNode, nearestOffset] = normalizeDOMPoint(domPoint)\n      const parentNode = nearestNode.parentNode as DOMElement\n      let textNode: DOMElement | null = null\n      let offset = 0\n\n      if (parentNode) {\n        const voidNode = parentNode.closest('[data-slate-void=\"true\"]')\n        let leafNode = parentNode.closest('[data-slate-leaf]')\n        let domNode: DOMElement | null = null\n\n        // Calculate how far into the text node the `nearestNode` is, so that we\n        // can determine what the offset relative to the text node is.\n        if (leafNode) {\n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!\n          const range = window.document.createRange()\n          range.setStart(textNode, 0)\n          range.setEnd(nearestNode, nearestOffset)\n          const contents = range.cloneContents()\n          const zeroWidths = contents.querySelectorAll(\n            '[data-slate-zero-width]'\n          )\n\n          Array.from(zeroWidths).forEach(el => {\n            el!.parentNode!.removeChild(el)\n          })\n\n          // COMPAT: Edge has a bug where SlateRange.prototype.toString() will\n          // convert \\n into \\r\\n. The bug causes a loop when slate-react\n          // attempts to reposition its cursor to match the native position. Use\n          // textContent.length instead.\n          // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\n          offset = contents.textContent!.length\n          domNode = textNode\n        } else if (voidNode) {\n          // For void nodes, the element with the offset key will be a cousin, not an\n          // ancestor, so find it by going down from the nearest void parent.\n\n          leafNode = voidNode.querySelector('[data-slate-leaf]')!\n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!\n          domNode = leafNode\n          offset = domNode.textContent!.length\n        }\n\n        // COMPAT: If the parent node is a Slate zero-width space, this is\n        // because the text node should have no characters. However, during IME\n        // composition the ASCII characters will be prepended to the zero-width\n        // space, so subtract 1 from the offset to account for the zero-width\n        // space character.\n        if (\n          domNode &&\n          offset === domNode.textContent!.length &&\n          parentNode.hasAttribute('data-slate-zero-width')\n        ) {\n          offset--\n        }\n      }\n\n      if (!textNode) {\n        throw new Error(\n          `Cannot resolve a Slate point from DOM point: ${domPoint}`\n        )\n      }\n\n      // COMPAT: If someone is clicking from one Slate editor into another,\n      // the select event fires twice, once for the old editor's `element`\n      // first, and then afterwards for the correct `element`. (2017/03/03)\n      const slateNode = this.toSlateNode(textNode!)\n      const path = this.findPath(slateNode)\n      return { path, offset }\n    }\n\n    /**\n     * Find a Slate range from a DOM range or selection.\n     */\n\n    toSlateRange(\n      domRange: DOMRange | DOMStaticRange | DOMSelection\n    ): SlateRange {\n      const el =\n        domRange instanceof Selection\n          ? domRange.anchorNode\n          : domRange.startContainer\n      let anchorNode\n      let anchorOffset\n      let focusNode\n      let focusOffset\n      let isCollapsed\n\n      if (el) {\n        if (domRange instanceof Selection) {\n          anchorNode = domRange.anchorNode\n          anchorOffset = domRange.anchorOffset\n          focusNode = domRange.focusNode\n          focusOffset = domRange.focusOffset\n          isCollapsed = domRange.isCollapsed\n        } else {\n          anchorNode = domRange.startContainer\n          anchorOffset = domRange.startOffset\n          focusNode = domRange.endContainer\n          focusOffset = domRange.endOffset\n          isCollapsed = domRange.collapsed\n        }\n      }\n\n      if (\n        anchorNode == null ||\n        focusNode == null ||\n        anchorOffset == null ||\n        focusOffset == null\n      ) {\n        throw new Error(\n          `Cannot resolve a Slate range from DOM range: ${domRange}`\n        )\n      }\n\n      const anchor = this.toSlatePoint([anchorNode, anchorOffset])\n      const focus = isCollapsed\n        ? anchor\n        : this.toSlatePoint([focusNode, focusOffset])\n\n      return { anchor, focus }\n    }\n  }\n}\n"],"names":["global","freeGlobal","root","Symbol","objectProto","nativeObjectToString","symToStringTag","getRawTag","objectToString","isObjectLike","baseGetTag","isSymbol","isObject","toNumber","now","EditorContext","createContext","undefined","useEditor","editor","useContext","Error","Path","React","Node","NODE_TO_INDEX","WeakMap","NODE_TO_PARENT","EDITOR_TO_ELEMENT","NODE_TO_ELEMENT","ELEMENT_TO_NODE","NODE_TO_KEY","KEY_TO_ELEMENT","IS_READ_ONLY","IS_FOCUSED","PLACEHOLDER","PLACEHOLDER_SYMBOL","Leaf","leaf","another","text","annotations","length","decorations","marks","every","m","Mark","exists","isRangeListEqual","isRangeMapEqual","value","isPlainObject","isMarkSet","Range","isRangeList","isRangeMap","offset","slice","list","i","range","other","equals","map","Object","keys","key","SlateLeaf","useRef","useLayoutEffect","ReadOnlyContext","useReadOnly","SelectedContext","useSelected","Text","Element","ElementComponent","TextComponent","FocusedContext","useFocused","IS_IOS","navigator","window","test","userAgent","MSStream","IS_APPLE","IS_FIREFOX","IS_SAFARI","isDOMComment","isDOMNode","nodeType","isDOMElement","isDOMText","normalizeDOMPoint","domPoint","node","childNodes","isLast","direction","index","getEditableChild","textContent","parent","child","triedForward","triedBackward","getAttribute","Utils","dataTransfer","base64","getData","decoded","decodeURIComponent","atob","fragment","JSON","parse","selection","SlateRange","edges","start","end","startVoid","getMatch","path","endVoid","isCollapsed","domRange","toDomRange","contents","cloneContents","attach","forEach","trim","voidNode","r","cloneRange","domNode","toDomNode","setEndAfter","querySelector","Array","from","querySelectorAll","zw","isNewline","span","document","createElement","style","whiteSpace","appendChild","SlateNode","string","stringify","encoded","btoa","encodeURIComponent","setAttribute","setData","div","innerHTML","getPlainText","nodeValue","childNode","display","getComputedStyle","getPropertyValue","tagName","Value","useMemo","useCallback","debounce","useSlate","Editor","_typeof","HOTKEYS","bold","compose","moveBackward","moveForward","moveWordBackward","moveWordForward","deleteBackward","deleteForward","extendBackward","extendForward","italic","splitBlock","undo","APPLE_HOTKEYS","moveLineBackward","moveLineForward","deleteLineBackward","deleteLineForward","deleteWordBackward","deleteWordForward","extendLineBackward","extendLineForward","redo","transposeCharacter","WINDOWS_HOTKEYS","create","generic","apple","windows","isGeneric","isKeyHotkey","isApple","isWindows","event","isBold","isCompose","isMoveBackward","isMoveForward","isDeleteBackward","isDeleteForward","isDeleteLineBackward","isDeleteLineForward","isDeleteWordBackward","isDeleteWordForward","isExtendBackward","isExtendForward","isExtendLineBackward","isExtendLineForward","isItalic","isMoveLineBackward","isMoveLineForward","isMoveWordBackward","isMoveWordForward","isRedo","isSplitBlock","isTransposeCharacter","isUndo","n","Key","id","withReact","op","matches","type","levels","at","findKey","push","getNode","set","get","SlateValue","isValue","unshift","placeholder","nodes","texts","getStart","el","activeElement","blur","focus","preventScroll","domSelection","getSelection","rangeCount","removeAllRanges","apply","properties","newProperties","getFragmentData","insertFragment","lines","split","line","splitNodes","insertText","inputType","data","reverse","unit","always","insertData","Hotkeys","preventDefault","move","edge","collapse","target","options","editable","element","parentElement","err","message","includes","closest","isContentEditable","point","selector","attr","trueLength","parseInt","Math","min","max","anchor","domAnchor","toDomPoint","domFocus","createRange","isBackward","setStart","setEnd","domEl","hasAttribute","nativeEvent","x","clientX","y","clientY","toSlateNode","findPath","SlateElement","isElement","isVoid","rect","getBoundingClientRect","isPrev","isInline","left","width","top","height","getPoint","getBefore","getAfter","getRange","caretRangeFromPoint","position","caretPositionFromPoint","offsetNode","toSlateRange","nearestNode","nearestOffset","parentNode","textNode","leafNode","zeroWidths","removeChild","slateNode","Selection","anchorNode","startContainer","anchorOffset","focusNode","focusOffset","startOffset","endContainer","endOffset","collapsed","toSlatePoint"],"mappings":"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"}