!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("netlify-cms-lib-util"),require("react"),require("prop-types"),require("@emotion/core"),require("netlify-cms-ui-default"),require("netlify-cms-lib-auth")):"function"==typeof define&&define.amd?define("NetlifyCmsBackendAzure",["netlify-cms-lib-util","react","prop-types","@emotion/core","netlify-cms-ui-default","netlify-cms-lib-auth"],e):"object"==typeof exports?exports.NetlifyCmsBackendAzure=e(require("netlify-cms-lib-util"),require("react"),require("prop-types"),require("@emotion/core"),require("netlify-cms-ui-default"),require("netlify-cms-lib-auth")):t.NetlifyCmsBackendAzure=e(t.NetlifyCmsLibUtil,t.React,t.NetlifyCmsDefaultExports.PropTypes,t.NetlifyCmsDefaultExports.EmotionCore,t.NetlifyCmsUiDefault,t.NetlifyCmsLibAuth)}(window,(function(t,e,r,n,i,o){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=127)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e,r){var n=r(53),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},function(t,e){t.exports=n},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n=r(17),i=r(31),o=r(32),a=r(33),s=r(20),u=/^\s+/;t.exports=function(t,e,r){if((t=s(t))&&(r||void 0===e))return t.replace(u,"");if(!t||!(e=n(e)))return t;var c=a(t),l=o(c,a(e));return i(c,l).join("")}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){var n=r(28),i=r(29);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},function(t,e,r){var n=r(10)(Object,"create");t.exports=n},function(t,e,r){var n=r(76),i=r(80);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(88);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(94);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var n=r(23),i=r(5);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),o=t.apply(r,e);return i(o)?o:r}}},function(t,e){t.exports=function(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&"__lodash_placeholder__"!==a||(t[r]="__lodash_placeholder__",o[i++]=r)}return o}},function(t,e,r){var n=r(17),i=r(30),o=r(31),a=r(60),s=r(32),u=r(33),c=r(20);t.exports=function(t,e,r){if((t=c(t))&&(r||void 0===e))return i(t);if(!t||!(e=n(e)))return t;var l=u(t),f=u(e),p=s(l,f),h=a(l,f)+1;return o(l,p,h).join("")}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(34))},function(t,e,r){var n=r(18),i=r(55),o=r(7),a=r(8),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},function(t,e,r){var n=r(3).Symbol;t.exports=n},function(t,e,r){var n=r(61),i=r(62),o=r(63);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},function(t,e,r){var n=r(17);t.exports=function(t){return null==t?"":n(t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(5),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},function(t,e,r){var n=r(23),i=r(25);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e){t.exports=i},function(t,e,r){var n=r(18),i=r(56),o=r(57),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){var n=r(58),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},function(t,e,r){var n=r(59);t.exports=function(t,e,r){var i=t.length;return r=void 0===r?i:r,!e&&r>=i?t:n(t,e,r)}},function(t,e,r){var n=r(19);t.exports=function(t,e){for(var r=-1,i=t.length;++r<i&&n(e,t[r],0)>-1;);return r}},function(t,e,r){var n=r(64),i=r(65),o=r(66);t.exports=function(t){return i(t)?o(t):n(t)}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){var n=r(28),i=r(5);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(101),i=r(37)(n);t.exports=i},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(21),i=r(39),o=i?function(t,e){return i.set(t,e),t}:n;t.exports=o},function(t,e,r){var n=r(105),i=n&&new n;t.exports=i},function(t,e,r){var n=r(41),i=r(42),o=r(108),a=r(13),s=r(43),u=r(26),c=r(120),l=r(14),f=r(3);t.exports=function t(e,r,p,h,d,v,m,y,b,g){var x=128&r,w=1&r,_=2&r,O=24&r,j=512&r,A=_?void 0:a(e);return function C(){for(var P=arguments.length,E=Array(P),S=P;S--;)E[S]=arguments[S];if(O)var k=u(C),T=o(E,k);if(h&&(E=n(E,h,d,O)),v&&(E=i(E,v,m,O)),P-=T,O&&P<g){var R=l(E,k);return s(e,r,t,C.placeholder,p,E,R,y,b,g-P)}var q=w?p:this,F=_?q[e]:e;return P=E.length,y?E=c(E,y):j&&P>1&&E.reverse(),x&&b<P&&(E.length=b),this&&this!==f&&this instanceof C&&(F=A||a(F)),F.apply(q,E)}}},function(t,e){var r=Math.max;t.exports=function(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=r(a-s,0),f=Array(c+l),p=!i;++u<c;)f[u]=e[u];for(;++o<s;)(p||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}},function(t,e){var r=Math.max;t.exports=function(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=r(a-u,0),p=Array(f+l),h=!i;++o<f;)p[o]=t[o];for(var d=o;++c<l;)p[d+c]=e[c];for(;++s<u;)(h||o<a)&&(p[d+n[s]]=t[o++]);return p}},function(t,e,r){var n=r(109),i=r(47),o=r(48);t.exports=function(t,e,r,a,s,u,c,l,f,p){var h=8&e;e|=h?32:64,4&(e&=~(h?64:32))||(e&=-4);var d=[t,e,s,h?u:void 0,h?c:void 0,h?void 0:u,h?void 0:c,l,f,p],v=r.apply(void 0,d);return n(t)&&i(v,d),v.placeholder=a,o(v,t,e)}},function(t,e,r){var n=r(39),i=r(110),o=n?function(t){return n.get(t)}:i;t.exports=o},function(t,e,r){var n=r(23),i=r(25);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){var n=r(38),i=r(37)(n);t.exports=i},function(t,e,r){var n=r(115),i=r(116),o=r(36),a=r(117);t.exports=function(t,e,r){var s=e+"";return o(t,i(s,a(n(s),r)))}},function(t,e,r){(function(e){!function(r){"use strict";var n=function(t){setTimeout(t,0)};void 0!==e&&e&&"function"==typeof e.nextTick&&(n=e.nextTick),t.exports=function(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(e.leave)},e.current+r.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(r);e.current+=r.n-t,r.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var r=e.queue[0];r.n+e.current>e.capacity||(e.queue.shift(),e.current+=r.n,n(r.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}}()}).call(this,r(34))},function(t,e){t.exports=o},function(t,e,r){var n=r(67),i=r(35),o=r(98);t.exports=function(t,e,r){var a=-1,s=(e=n(e,t)).length;for(s||(s=1,t=void 0);++a<s;){var u=null==t?void 0:t[o(e[a])];void 0===u&&(a=s,u=r),t=i(u)?u.call(t):u}return t}},function(t,e,r){var n=r(99),i=r(104),o=r(26),a=r(14),s=n((function(t,e){var r=a(e,o(s));return i(t,32,void 0,e,r)}));s.placeholder={},t.exports=s},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(54))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},function(t,e,r){var n=r(18),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e){var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},function(t,e){t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},function(t,e,r){var n=r(19);t.exports=function(t,e){for(var r=t.length;r--&&n(e,t[r],0)>-1;);return r}},function(t,e){t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return r.test(t)}},function(t,e){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[o+n+"?",n,a,s,r].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=function(t){return t.match(f)||[]}},function(t,e,r){var n=r(7),i=r(68),o=r(69),a=r(20);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,r){var n=r(7),i=r(8),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(70),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},function(t,e,r){var n=r(71);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(72);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},function(t,e,r){var n=r(73),i=r(93),o=r(95),a=r(96),s=r(97);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,r){var n=r(74),i=r(85),o=r(92);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(t,e,r){var n=r(75),i=r(81),o=r(82),a=r(83),s=r(84);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,r){var n=r(9);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e,r){var n=r(35),i=r(77),o=r(5),a=r(79),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?p:s).test(a(t))}},function(t,e,r){var n,i=r(78),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},function(t,e,r){var n=r(3)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(9),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(9),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},function(t,e,r){var n=r(9);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(86),i=r(87),o=r(89),a=r(90),s=r(91);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(11),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(11);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(11);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(11);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},function(t,e,r){var n=r(10)(r(3),"Map");t.exports=n},function(t,e,r){var n=r(12);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(12);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(12);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(12);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},function(t,e,r){var n=r(8);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,r){var n=r(21),i=r(100),o=r(36);t.exports=function(t,e){return o(i(t,e,n),t+"")}},function(t,e,r){var n=r(22),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=r(u),n(t,this,c)}}},function(t,e,r){var n=r(102),i=r(103),o=r(21),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(10),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,r){var n=r(38),i=r(106),o=r(107),a=r(40),s=r(122),u=r(44),c=r(123),l=r(47),f=r(48),p=r(124),h=Math.max;t.exports=function(t,e,r,d,v,m,y,b){var g=2&e;if(!g&&"function"!=typeof t)throw new TypeError("Expected a function");var x=d?d.length:0;if(x||(e&=-97,d=v=void 0),y=void 0===y?y:h(p(y),0),b=void 0===b?b:p(b),x-=v?v.length:0,64&e){var w=d,_=v;d=v=void 0}var O=g?void 0:u(t),j=[t,e,r,d,v,w,_,m,y,b];if(O&&c(j,O),t=j[0],e=j[1],r=j[2],d=j[3],v=j[4],!(b=j[9]=void 0===j[9]?g?0:t.length:h(j[9]-x,0))&&24&e&&(e&=-25),e&&1!=e)A=8==e||16==e?o(t,e,b):32!=e&&33!=e||v.length?a.apply(void 0,j):s(t,e,r,d);else var A=i(t,e,r);return f((O?n:l)(A,j),t,e)}},function(t,e,r){var n=r(10)(r(3),"WeakMap");t.exports=n},function(t,e,r){var n=r(13),i=r(3);t.exports=function(t,e,r){var o=1&e,a=n(t);return function e(){var n=this&&this!==i&&this instanceof e?a:t;return n.apply(o?r:this,arguments)}}},function(t,e,r){var n=r(22),i=r(13),o=r(40),a=r(43),s=r(26),u=r(14),c=r(3);t.exports=function(t,e,r){var l=i(t);return function i(){for(var f=arguments.length,p=Array(f),h=f,d=s(i);h--;)p[h]=arguments[h];var v=f<3&&p[0]!==d&&p[f-1]!==d?[]:u(p,d);if((f-=v.length)<r)return a(t,e,o,i.placeholder,void 0,p,v,void 0,void 0,r-f);var m=this&&this!==c&&this instanceof i?l:t;return n(m,this,p)}}},function(t,e){t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},function(t,e,r){var n=r(24),i=r(44),o=r(111),a=r(113);t.exports=function(t){var e=o(t),r=a[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var s=i(r);return!!s&&t===s[0]}},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(112),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],o=i.call(n,e)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e){t.exports={}},function(t,e,r){var n=r(24),i=r(45),o=r(25),a=r(7),s=r(29),u=r(114),c=Object.prototype.hasOwnProperty;function l(t){if(s(t)&&!a(t)&&!(t instanceof n)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}l.prototype=o.prototype,l.prototype.constructor=l,t.exports=l},function(t,e,r){var n=r(24),i=r(45),o=r(46);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var r=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;t.exports=function(t){var e=t.match(r);return e?e[1].split(n):[]}},function(t,e){var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(r,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,r){var n=r(118),i=r(119),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,(function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)})),t.sort()}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},function(t,e,r){var n=r(19);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},function(t,e,r){var n=r(46),i=r(121),o=Math.min;t.exports=function(t,e){for(var r=t.length,a=o(e.length,r),s=n(t);a--;){var u=e[a];t[a]=i(u,r)?s[u]:void 0}return t}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){var n=r(22),i=r(13),o=r(3);t.exports=function(t,e,r,a){var s=1&e,u=i(t);return function e(){for(var i=-1,c=arguments.length,l=-1,f=a.length,p=Array(f+c),h=this&&this!==o&&this instanceof e?u:t;++l<f;)p[l]=a[l];for(;c--;)p[l++]=arguments[++i];return n(h,s?r:this,p)}}},function(t,e,r){var n=r(41),i=r(42),o=r(14),a=Math.min;t.exports=function(t,e){var r=t[1],s=e[1],u=r|s,c=u<131,l=128==s&&8==r||128==s&&256==r&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==r;if(!c&&!l)return t;1&s&&(t[2]=e[2],u|=1&r?0:4);var f=e[3];if(f){var p=t[3];t[3]=p?n(p,f,e[4]):f,t[4]=p?o(t[3],"__lodash_placeholder__"):e[4]}return(f=e[5])&&(p=t[5],t[5]=p?i(p,f,e[6]):f,t[6]=p?o(t[5],"__lodash_placeholder__"):e[6]),(f=e[7])&&(t[7]=f),128&s&&(t[8]=null==t[8]?e[8]:a(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=u,t}},function(t,e,r){var n=r(125);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},function(t,e,r){var n=r(126);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,r){var n=r(30),i=r(5),o=r(8),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},function(t,e,r){"use strict";r.r(e),r.d(e,"NetlifyCmsBackendAzure",(function(){return Ht})),r.d(e,"AzureBackend",(function(){return $t})),r.d(e,"API",(function(){return Mt})),r.d(e,"AuthenticationPage",(function(){return H}));var n=r(15),i=r.n(n),o=r(6),a=r.n(o),s=r(49),u=r.n(s),c=r(0);function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=r(1),p=r.n(f);var h=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}},d=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v=h((function(t){return d.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),m=r(4);function y(t,e,r){var n="";return r.split(" ").forEach((function(r){void 0!==t[r]?e.push(t[r]):n+=r+" "})),n}var b=function(t,e,r){var n=t.key+"-"+e.name;if(!1===r&&void 0===t.registered[n]&&(t.registered[n]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert("."+n,i,t.sheet,!0);i=i.next}while(void 0!==i)}};var g=function(t){for(var e,r=0,n=0,i=t.length;i>=4;++n,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&t.charCodeAt(n+2))<<16;case 2:r^=(255&t.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},x={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},w=/[A-Z]|^ms/g,_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O=function(t){return 45===t.charCodeAt(1)},j=function(t){return null!=t&&"boolean"!=typeof t},A=h((function(t){return O(t)?t:t.replace(w,"-$&").toLowerCase()})),C=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(_,(function(t,e,r){return E={name:e,styles:r,next:E},e}))}return 1===x[t]||O(t)||"number"!=typeof e||0===e?e:e+"px"};function P(t,e,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return E={name:r.name,styles:r.styles,next:E},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)E={name:i.name,styles:i.styles,next:E},i=i.next;return r.styles+";"}return function(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=P(t,e,r[i],!1);else for(var o in r){var a=r[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?n+=o+"{"+e[a]+"}":j(a)&&(n+=A(o)+":"+C(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=P(t,e,a,!1);switch(o){case"animation":case"animationName":n+=A(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)j(a[u])&&(n+=A(o)+":"+C(o,a[u])+";")}return n}(t,e,r);case"function":if(void 0!==t){var o=E,a=r(t);return E=o,P(t,e,a,n)}break;case"string":}if(null==e)return r;var s=e[r];return void 0===s||n?r:s}var E,S=/label:\s*([^\s;\n{]+)\s*;/g;var k=function(t,e,r){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var n=!0,i="";E=void 0;var o=t[0];null==o||void 0===o.raw?(n=!1,i+=P(r,e,o,!1)):i+=o[0];for(var a=1;a<t.length;a++)i+=P(r,e,t[a],46===i.charCodeAt(i.length-1)),n&&(i+=o[a]);S.lastIndex=0;for(var s,u="";null!==(s=S.exec(i));)u+="-"+s[1];return{name:g(i)+u,styles:i,next:E}},T=v,R=function(t){return"theme"!==t&&"innerRef"!==t},q=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?T:R};function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var L=function(){return null},U=function t(e,r){var n,i,o;void 0!==r&&(n=r.label,o=r.target,i=e.__emotion_forwardProp&&r.shouldForwardProp?function(t){return e.__emotion_forwardProp(t)&&r.shouldForwardProp(t)}:r.shouldForwardProp);var a=e.__emotion_real===e,s=a&&e.__emotion_base||e;"function"!=typeof i&&a&&(i=e.__emotion_forwardProp);var u=i||q(s),c=!u("as");return function(){var l=arguments,p=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==n&&p.push("label:"+n+";"),null==l[0]||void 0===l[0].raw)p.push.apply(p,l);else{0,p.push(l[0][0]);for(var h=l.length,d=1;d<h;d++)p.push(l[d],l[0][d])}var v=Object(m.withEmotionCache)((function(t,e,r){return Object(f.createElement)(m.ThemeContext.Consumer,null,(function(n){var a=c&&t.as||s,l="",h=[],d=t;if(null==t.theme){for(var v in d={},t)d[v]=t[v];d.theme=n}"string"==typeof t.className?l=y(e.registered,h,t.className):null!=t.className&&(l=t.className+" ");var m=k(p.concat(h),e.registered,d);b(e,m,"string"==typeof a);l+=e.key+"-"+m.name,void 0!==o&&(l+=" "+o);var g=c&&void 0===i?q(a):u,x={};for(var w in t)c&&"as"===w||g(w)&&(x[w]=t[w]);x.className=l,x.ref=r||t.innerRef;var _=Object(f.createElement)(a,x),O=Object(f.createElement)(L,null);return Object(f.createElement)(f.Fragment,null,O,_)}))}));return v.displayName=void 0!==n?n:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=p,v.__emotion_forwardProp=i,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(e,n){return t(e,void 0!==n?D({},r||{},{},n):r).apply(void 0,p)},v}},N=r(2),M=r.n(N),B=r(50),I=r(27);function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const $=U(I.Icon,{target:"e1uivwef0",label:"LoginButtonIcon"})({name:"x0sdsu",styles:"margin-right:18px;"});class H extends p.a.Component{constructor(){super(...arguments),z(this,"state",{}),z(this,"handleLogin",t=>{t.preventDefault(),this.auth.authenticate({scope:"vso.code_full,user.read",resource:"499b84ac-1321-427f-aa17-267ca6975798",prompt:"select_account"},(t,e)=>{t?this.setState({loginError:t.toString()}):this.props.onLogin(e)})})}componentDidMount(){this.auth=new B.ImplicitAuthenticator({base_url:"https://login.microsoftonline.com/"+this.props.config.backend.tenant_id,auth_endpoint:"oauth2/authorize",app_id:this.props.config.backend.app_id,clearHash:this.props.clearHash}),this.auth.completeAuth((t,e)=>{t?alert(t):this.props.onLogin(e)})}render(){const{inProgress:t,config:e,t:r}=this.props;return Object(m.jsx)(I.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:t,loginErrorMessage:this.state.loginError,logoUrl:e.logo_url,renderButtonContent:()=>Object(m.jsx)(p.a.Fragment,null,Object(m.jsx)($,{type:"azure"}),r(t?"auth.loggingIn":"auth.loginWithAzure")),t:r})}}z(H,"propTypes",{onLogin:M.a.func.isRequired,inProgress:M.a.bool,base_url:M.a.string,siteId:M.a.string,authEndpoint:M.a.string,config:M.a.object.isRequired,clearHash:M.a.func,t:M.a.func.isRequired});var W=r(51),J=r.n(W),K=r(52),V=r.n(K);const G="function"==typeof atob,X="function"==typeof btoa,Y="function"==typeof Buffer,Z="function"==typeof TextDecoder?new TextDecoder:void 0,Q="function"==typeof TextEncoder?new TextEncoder:void 0,tt=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),et=(t=>{let e={};return t.forEach((t,r)=>e[t]=r),e})(tt),rt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,nt=String.fromCharCode.bind(String),it="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),ot=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),at=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),st=t=>{let e,r,n,i,o="";const a=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=tt[e>>18&63]+tt[e>>12&63]+tt[e>>6&63]+tt[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},ut=X?t=>btoa(t):Y?t=>Buffer.from(t,"binary").toString("base64"):st,ct=Y?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let r=0,n=t.length;r<n;r+=4096)e.push(nt.apply(null,t.subarray(r,r+4096)));return ut(e.join(""))},lt=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?nt(192|e>>>6)+nt(128|63&e):nt(224|e>>>12&15)+nt(128|e>>>6&63)+nt(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return nt(240|e>>>18&7)+nt(128|e>>>12&63)+nt(128|e>>>6&63)+nt(128|63&e)},ft=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,pt=t=>t.replace(ft,lt),ht=Y?t=>Buffer.from(t,"utf8").toString("base64"):Q?t=>ct(Q.encode(t)):t=>ut(pt(t)),dt=(t,e=!1)=>e?ot(ht(t)):ht(t),vt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,mt=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return nt(55296+(e>>>10))+nt(56320+(1023&e));case 3:return nt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return nt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},yt=t=>t.replace(vt,mt),bt=t=>{if(t=t.replace(/\s+/g,""),!rt.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,r,n,i="";for(let o=0;o<t.length;)e=et[t.charAt(o++)]<<18|et[t.charAt(o++)]<<12|(r=et[t.charAt(o++)])<<6|(n=et[t.charAt(o++)]),i+=64===r?nt(e>>16&255):64===n?nt(e>>16&255,e>>8&255):nt(e>>16&255,e>>8&255,255&e);return i},gt=G?t=>atob(at(t)):Y?t=>Buffer.from(t,"base64").toString("binary"):bt,xt=Y?t=>it(Buffer.from(t,"base64")):t=>it(gt(t),t=>t.charCodeAt(0)),wt=Y?t=>Buffer.from(t,"base64").toString("utf8"):Z?t=>Z.decode(xt(t)):t=>yt(gt(t)),_t=t=>at(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),Ot=t=>wt(_t(t)),jt=dt,At=Ot;var Ct=r(16);function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){St(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function St(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const kt="Azure DevOps";var Tt,Rt,qt,Ft,Dt,Lt;function Ut(t){return new Promise(e=>setTimeout(e,t))}function Nt(t){switch(t.action){case Rt.ADD:return{changeType:Rt.ADD,item:{path:t.path},newContent:{content:t.base64Content,contentType:qt.BASE64}};case Rt.EDIT:return{changeType:Rt.EDIT,item:{path:t.path},newContent:{content:t.base64Content,contentType:qt.BASE64}};case Rt.DELETE:return{changeType:Rt.DELETE,item:{path:t.path}};case Rt.RENAME:return{changeType:Rt.RENAME,item:{path:t.path},sourceServerItem:t.oldPath};default:return{}}}!function(t){t.ERROR="error",t.FAILED="failed",t.NOT_APPLICABLE="notApplicable",t.NOT_SET="notSet",t.PENDING="pending",t.SUCCEEDED="succeeded"}(Tt||(Tt={})),function(t){t.ADD="add",t.DELETE="delete",t.RENAME="rename",t.EDIT="edit"}(Rt||(Rt={})),function(t){t.BASE64="base64encoded"}(qt||(qt={})),function(t){t.ACTIVE="active",t.COMPLETED="completed",t.ABANDONED="abandoned"}(Ft||(Ft={})),function(t){t.CONFLICTS="conflicts",t.FAILURE="failure",t.QUEUED="queued",t.REJECTED="rejectedByPolicy",t.SUCCEEDED="succeeded"}(Dt||(Dt={})),function(t){t.BLOB="blob",t.TREE="tree"}(Lt||(Lt={}));class Mt{constructor(t,e){var r=this;St(this,"apiVersion",void 0),St(this,"token",void 0),St(this,"branch",void 0),St(this,"mergeStrategy",void 0),St(this,"endpointUrl",void 0),St(this,"initialWorkflowStatus",void 0),St(this,"cmsLabelPrefix",void 0),St(this,"withHeaders",t=>c.unsentRequest.withHeaders({Authorization:"Bearer "+this.token,"Content-Type":"application/json; charset=utf-8"},t)),St(this,"withAzureFeatures",t=>{if(t.hasIn(["params","api-version"]))return t;return c.unsentRequest.withParams({"api-version":""+this.apiVersion},t)}),St(this,"buildRequest",t=>{const e=this.withHeaders(t),r=this.withAzureFeatures(e);if(r.has("cache"))return r;return c.unsentRequest.withNoCache(r)}),St(this,"request",t=>{try{return Object(c.requestWithBackoff)(this,t)}catch(t){throw new c.APIError(t.message,null,kt)}}),St(this,"responseToJSON",Object(c.responseParser)({format:"json",apiName:kt})),St(this,"responseToBlob",Object(c.responseParser)({format:"blob",apiName:kt})),St(this,"responseToText",Object(c.responseParser)({format:"text",apiName:kt})),St(this,"requestJSON",t=>this.request(t).then(this.responseToJSON)),St(this,"requestText",t=>this.request(t).then(this.responseToText)),St(this,"toBase64",t=>Promise.resolve(jt(t))),St(this,"fromBase64",t=>At(t)),St(this,"branchToRef",t=>"refs/heads/"+t),St(this,"refToBranch",t=>t.slice("refs/heads/".length)),St(this,"user",async()=>{var t,e,r,n,i,o,a;const s=await this.requestJSON({url:"https://app.vssps.visualstudio.com/_apis/profile/profiles/me",params:{"api-version":"6.1-preview.2"}}),u=null===(t=s.coreAttributes)||void 0===t||null===(e=t.DisplayName)||void 0===e?void 0:e.value,c=null===(r=s.coreAttributes)||void 0===r||null===(n=r.EmailAddress)||void 0===n?void 0:n.value;return{name:u||c||"",avatar_url:"data:image/png;base64,"+(null===(i=s.coreAttributes)||void 0===i||null===(o=i.Avatar)||void 0===o||null===(a=o.value)||void 0===a?void 0:a.value),email:c}}),St(this,"readFile",(function(t,e){let{parseText:n=!0,branch:i=r.branch}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=()=>r.request({url:r.endpointUrl+"/items/",params:{version:i,path:t},cache:"no-store"}).then(n?r.responseToText:r.responseToBlob);return Object(c.readFile)(e,o,c.localForage,n)})),St(this,"listFiles",(async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.branch;try{const{value:i}=await r.requestJSON({url:r.endpointUrl+"/items/",params:{version:n,scopePath:t,recursionLevel:e?"full":"oneLevel"}});return i.filter(t=>t.gitObjectType===Lt.BLOB).map(t=>({id:t.objectId,path:a()(t.path,"/"),name:Object(Ct.basename)(t.path)}))}catch(t){if(t&&404===t.status)return console.log("This 404 was expected and handled appropriately."),[];throw t}}));const{repo:n}=t,o=i()(t.apiRoot,"/");this.endpointUrl=`${o}/${n.org}/${n.project}/_apis/git/repositories/${n.repoName}`,this.token=e,this.branch=t.branch,this.mergeStrategy=t.squashMerges?"squash":"noFastForward",this.initialWorkflowStatus=t.initialWorkflowStatus,this.apiVersion=t.apiVersion,this.cmsLabelPrefix=t.cmsLabelPrefix}async readFileMetadata(t,e){let{branch:r=this.branch}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await Object(c.readFileMetadata)(e,async()=>{try{const{value:e}=await this.requestJSON({url:this.endpointUrl+"/commits/",params:{"searchCriteria.itemPath":t,"searchCriteria.itemVersion.version":r,"searchCriteria.$top":1}}),[n]=e;return{author:n.author.name||n.author.email,updatedOn:n.author.date}}catch(t){return{author:"",updatedOn:""}}},c.localForage)}async getRef(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.branch;const{value:e}=await this.requestJSON({url:this.endpointUrl+"/refs",params:{$top:"1",filter:"heads/"+t}});return e.find(e=>e.name==this.branchToRef(t))}async deleteRef(t){const e=[{name:t.name,oldObjectId:t.objectId,newObjectId:"0000000000000000000000000000000000000000"}];await this.requestJSON({method:"POST",url:this.endpointUrl+"/refs",body:JSON.stringify(e)})}async uploadAndCommit(t,e,r,n){const i=await this.getRef(n?this.branch:r),o={refUpdates:[{name:this.branchToRef(r),oldObjectId:i.objectId}],commits:[{comment:e,changes:t.map(t=>Nt(t))}]};return this.requestJSON({url:this.endpointUrl+"/pushes",method:"POST",body:JSON.stringify(o)})}async retrieveUnpublishedEntryData(t){var e,r;const{collection:n,slug:i}=Object(c.parseContentKey)(t),o=Object(c.branchFromContentKey)(t),s=await this.getBranchPullRequest(o),u=await this.getDifferences(s.sourceRefName),l=await Promise.all(u.map(async t=>{const e=a()(t.item.path,"/"),r=t.changeType===Rt.ADD;return{id:t.item.objectId,path:e,newFile:r}})),f=s.labels.find(t=>Object(c.isCMSLabel)(t.name,this.cmsLabelPrefix)),p=f&&f.name?f.name:this.cmsLabelPrefix;return{collection:n,slug:i,status:Object(c.labelToStatus)(p,this.cmsLabelPrefix),diffs:l,updatedAt:s.closedDate?s.closedDate:s.creationDate,pullRequestAuthor:(null===(e=s.createdBy)||void 0===e?void 0:e.displayName)||(null===(r=s.createdBy)||void 0===r?void 0:r.uniqueName)}}async getPullRequestStatues(t){const{value:e}=await this.requestJSON({url:`${this.endpointUrl}/pullrequests/${t.pullRequestId}/commits`,params:{$top:1}}),{value:r}=await this.requestJSON({url:`${this.endpointUrl}/commits/${e[0].commitId}/statuses`,params:{latestOnly:!0}});return r}async getStatuses(t,e){const r=Object(c.generateContentKey)(t,e),n=Object(c.branchFromContentKey)(r),i=await this.getBranchPullRequest(n);return(await this.getPullRequestStatues(i)).map(t=>{let{context:e,state:r,targetUrl:n}=t;return{context:e.name,state:r===Tt.SUCCEEDED?c.PreviewState.Success:c.PreviewState.Other,target_url:n}})}async getCommitItems(t,e){const r=await Promise.all(t.map(async t=>{const[r,n]=await Promise.all([J()(t,"toBase64",V()(this.toBase64,t.raw)),this.isFileExists(t.path,e)]),i=t.newPath||t.path,o=t.path,a=i!==o?Rt.RENAME:Rt.EDIT;return{action:n?a:Rt.ADD,base64Content:r,path:i,oldPath:o}}));for(const t of r.filter(t=>t.oldPath&&t.action===Rt.RENAME)){const n=Object(Ct.dirname)(t.oldPath),i=Object(Ct.dirname)(t.path);(await this.listFiles(n,!0,e)).filter(e=>e.path!==t.oldPath).forEach(t=>{r.push({action:Rt.RENAME,path:t.path.replace(n,i),oldPath:t.path})})}return r}async persistFiles(t,e,r){const n=[...t,...e];if(r.useWorkflow){const e=t[0].slug;return this.editorialWorkflowGit(n,e,r)}{const t=await this.getCommitItems(n,this.branch);return this.uploadAndCommit(t,r.commitMessage,this.branch,!0)}}async deleteFiles(t,e){const r=await this.getRef(this.branch),n={refUpdates:[{name:r.name,oldObjectId:r.objectId}],commits:[{comment:e,changes:t.map(t=>Nt({action:Rt.DELETE,path:t}))}]};return this.requestJSON({url:this.endpointUrl+"/pushes",method:"POST",body:JSON.stringify(n)})}async getPullRequests(t){const{value:e}=await this.requestJSON({url:this.endpointUrl+"/pullrequests",params:Et({"searchCriteria.status":"active","searchCriteria.targetRefName":this.branchToRef(this.branch),"searchCriteria.includeLinks":!1},t?{"searchCriteria.sourceRefName":this.branchToRef(t)}:{})});return e.filter(t=>t.labels.some(t=>Object(c.isCMSLabel)(t.name,this.cmsLabelPrefix)))}async listUnpublishedBranches(){return(await this.getPullRequests()).map(t=>this.refToBranch(t.sourceRefName))}async isFileExists(t,e){try{return await this.requestText({url:this.endpointUrl+"/items/",params:{version:e,path:t},cache:"no-store"}),!0}catch(t){if(t instanceof c.APIError&&404===t.status)return!1;throw t}}async createPullRequest(t,e,r){const n={sourceRefName:this.branchToRef(t),targetRefName:this.branchToRef(this.branch),title:e,description:c.DEFAULT_PR_BODY,labels:[{name:Object(c.statusToLabel)(r,this.cmsLabelPrefix)}]};await this.requestJSON({method:"POST",url:this.endpointUrl+"/pullrequests",params:{supportsIterations:!1},body:JSON.stringify(n)})}async getBranchPullRequest(t){const e=await this.getPullRequests(t);if(e.length<=0)throw new c.EditorialWorkflowError("content is not under editorial workflow",!0);return e[0]}async getDifferences(t){return(await this.requestJSON({url:this.endpointUrl+"/diffs/commits",params:{baseVersion:this.branch,targetVersion:this.refToBranch(t)}})).changes.filter(t=>t.item.gitObjectType===Lt.BLOB&&Object.values(Rt).includes(t.changeType))}async editorialWorkflowGit(t,e,r){const n=Object(c.generateContentKey)(r.collectionName,e),i=Object(c.branchFromContentKey)(n);if(r.unpublished||!1){const e=await this.getCommitItems(t,i);await this.uploadAndCommit(e,r.commitMessage,i,!1)}else{const e=await this.getCommitItems(t,this.branch);await this.uploadAndCommit(e,r.commitMessage,i,!0),await this.createPullRequest(i,r.commitMessage,r.status||this.initialWorkflowStatus)}}async updateUnpublishedEntryStatus(t,e,r){const n=Object(c.generateContentKey)(t,e),i=Object(c.branchFromContentKey)(n),o=await this.getBranchPullRequest(i),a=[...o.labels.filter(t=>!Object(c.isCMSLabel)(t.name,this.cmsLabelPrefix)).map(t=>t.name),Object(c.statusToLabel)(r,this.cmsLabelPrefix)];await this.updatePullRequestLabels(o,a)}async deleteUnpublishedEntry(t,e){const r=Object(c.generateContentKey)(t,e),n=Object(c.branchFromContentKey)(r),i=await this.getBranchPullRequest(n);await this.abandonPullRequest(i)}async publishUnpublishedEntry(t,e){const r=Object(c.generateContentKey)(t,e),n=Object(c.branchFromContentKey)(r),i=await this.getBranchPullRequest(n);await this.completePullRequest(i)}async updatePullRequestLabels(t,e){const r=t.labels.filter(t=>Object(c.isCMSLabel)(t.name,this.cmsLabelPrefix));await Promise.all(r.map(e=>this.requestText({method:"DELETE",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(t.pullRequestId)}/labels/${encodeURIComponent(e.id)}`}))),await Promise.all(e.map(e=>this.requestText({method:"POST",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(t.pullRequestId)}/labels`,body:JSON.stringify({name:e})})))}async completePullRequest(t){const e={status:Ft.COMPLETED,lastMergeSourceCommit:t.lastMergeSourceCommit,completionOptions:{deleteSourceBranch:!0,mergeCommitMessage:c.MERGE_COMMIT_MESSAGE,mergeStrategy:this.mergeStrategy}};let r=await this.requestJSON({method:"PATCH",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(t.pullRequestId)}`,body:JSON.stringify(e)});let n=1;for(;r.mergeStatus===Dt.QUEUED&&n<=10;)await Ut(500),r=await this.requestJSON({url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(t.pullRequestId)}`}),n+=1}async abandonPullRequest(t){const e={status:Ft.ABANDONED};await this.requestJSON({method:"PATCH",url:`${this.endpointUrl}/pullrequests/${encodeURIComponent(t.pullRequestId)}`,body:JSON.stringify(e)}),await this.deleteRef({name:t.sourceRefName,objectId:t.lastMergeSourceCommit.commitId})}}function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class $t{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zt(this,"lock",void 0),zt(this,"api",void 0),zt(this,"options",void 0),zt(this,"repo",void 0),zt(this,"branch",void 0),zt(this,"apiRoot",void 0),zt(this,"apiVersion",void 0),zt(this,"token",void 0),zt(this,"squashMerges",void 0),zt(this,"cmsLabelPrefix",void 0),zt(this,"mediaFolder",void 0),zt(this,"previewContext",void 0),zt(this,"_mediaDisplayURLSem",void 0),this.options=It({initialWorkflowStatus:""},e),this.repo=function(t){const{repo:e}=t.backend;if("string"!=typeof e)throw new Error('The Azure backend needs a "repo" in the backend configuration.');const r=e.split("/");if(3!==r.length)throw new Error("The Azure backend must be in a the format of {org}/{project}/{repo}");const[n,i,o]=r;return{org:n,project:i,repoName:o}}(t),this.branch=t.backend.branch||"master",this.apiRoot=t.backend.api_root||"https://dev.azure.com",this.apiVersion=t.backend.api_version||"6.1-preview",this.token="",this.squashMerges=t.backend.squash_merges||!1,this.cmsLabelPrefix=t.backend.cms_label_prefix||"",this.mediaFolder=i()(t.media_folder,"/"),this.previewContext=t.backend.preview_context||"",this.lock=Object(c.asyncLock)()}isGitBackend(){return!0}async status(){return{auth:{status:await this.api.user().then(t=>!!t).catch(t=>(console.warn("Failed getting Azure user",t),!1))||!1},api:{status:!0,statusPage:""}}}authComponent(){return H}restoreUser(t){return this.authenticate(t)}async authenticate(t){this.token=t.token,this.api=new Mt({apiRoot:this.apiRoot,apiVersion:this.apiVersion,repo:this.repo,branch:this.branch,squashMerges:this.squashMerges,cmsLabelPrefix:this.cmsLabelPrefix,initialWorkflowStatus:this.options.initialWorkflowStatus},this.token);const e=await this.api.user();return It({token:t.token},e)}logout(){this.token=null}getToken(){return Promise.resolve(this.token)}async entriesByFolder(t,e,r){return await Object(c.entriesByFolder)(async()=>(await this.api.listFiles(t,r>1)).filter(t=>Object(c.filterByExtension)({path:t.path},e)).map(t=>({id:t.id,path:t.path})),this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),kt)}entriesByFiles(t){return Object(c.entriesByFiles)(t,this.api.readFile.bind(this.api),this.api.readFileMetadata.bind(this.api),kt)}async getEntry(t){return{file:{path:t},data:await this.api.readFile(t)}}async getMedia(){const t=await this.api.listFiles(this.mediaFolder,!1);return await Promise.all(t.map(async t=>{let{id:e,path:r,name:n}=t;return{id:e,name:n,displayURL:await this.getMediaDisplayURL({id:e,path:r}),path:r}}))}getMediaDisplayURL(t){return this._mediaDisplayURLSem=this._mediaDisplayURLSem||u()(10),Object(c.getMediaDisplayURL)(t,this.api.readFile.bind(this.api),this._mediaDisplayURLSem)}async getMediaFile(t){const e=Object(c.basename)(t),r=await Object(c.getMediaAsBlob)(t,null,this.api.readFile.bind(this.api)),n=new File([r],e),i=URL.createObjectURL(n);return{id:await Object(c.getBlobSHA)(r),displayURL:i,path:t,name:e,size:n.size,file:n,url:i}}async persistEntry(t,e){const r=t.assets;await this.api.persistFiles(t.dataFiles,r,e)}async persistMedia(t,e){const r=t.fileObj,[n]=await Promise.all([Object(c.getBlobSHA)(r),this.api.persistFiles([],[t],e)]),{path:i}=t,o=URL.createObjectURL(r);return{displayURL:o,path:a()(i,"/"),name:r.name,size:r.size,file:r,url:o,id:n}}async deleteFiles(t,e){await this.api.deleteFiles(t,e)}async loadMediaFile(t,e){const r=await Object(c.getMediaAsBlob)(e.path,null,(e,r,n)=>{let{parseText:i}=n;return this.api.readFile(e,r,{branch:t,parseText:i})}),n=Object(c.basename)(e.path),i=new File([r],n);return{id:e.path,displayURL:URL.createObjectURL(i),path:e.path,name:n,size:i.size,file:i}}async loadEntryMediaFiles(t,e){return await Promise.all(e.map(e=>this.loadMediaFile(t,e)))}async unpublishedEntries(){return await Object(c.unpublishedEntries)(()=>this.api.listUnpublishedBranches().then(t=>t.map(t=>Object(c.contentKeyFromBranch)(t))))}async unpublishedEntry(t){let{id:e,collection:r,slug:n}=t;if(e){return await this.api.retrieveUnpublishedEntryData(e)}if(r&&n){const t=Object(c.generateContentKey)(r,n);return await this.api.retrieveUnpublishedEntryData(t)}throw new Error("Missing unpublished entry id or collection and slug")}getBranch(t,e){const r=Object(c.generateContentKey)(t,e);return Object(c.branchFromContentKey)(r)}async unpublishedEntryMediaFile(t,e,r,n){const i=this.getBranch(t,e);return await this.loadMediaFile(i,{path:r,id:n})}async unpublishedEntryDataFile(t,e,r,n){const i=this.getBranch(t,e);return await this.api.readFile(r,n,{branch:i})}updateUnpublishedEntryStatus(t,e,r){return Object(c.runWithLock)(this.lock,()=>this.api.updateUnpublishedEntryStatus(t,e,r),"Failed to acquire update entry status lock")}deleteUnpublishedEntry(t,e){return Object(c.runWithLock)(this.lock,()=>this.api.deleteUnpublishedEntry(t,e),"Failed to acquire delete entry lock")}publishUnpublishedEntry(t,e){return Object(c.runWithLock)(this.lock,()=>this.api.publishUnpublishedEntry(t,e),"Failed to acquire publish entry lock")}async getDeployPreview(t,e){try{const r=await this.api.getStatuses(t,e),n=Object(c.getPreviewStatus)(r,this.previewContext);if(n){const{target_url:t,state:e}=n;return{url:t,status:e}}return null}catch(t){return null}}}const Ht={AzureBackend:$t,API:Mt,AuthenticationPage:H}}]).NetlifyCmsBackendAzure}));
//# sourceMappingURL=netlify-cms-backend-azure.js.map