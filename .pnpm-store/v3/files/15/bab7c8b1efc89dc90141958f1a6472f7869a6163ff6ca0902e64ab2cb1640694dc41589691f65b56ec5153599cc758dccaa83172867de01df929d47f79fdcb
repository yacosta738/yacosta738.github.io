{"version":3,"file":"slate-base64-serializer.js","sources":["../src/index.js"],"sourcesContent":["import { Node, Value } from 'slate'\nimport { atob, btoa } from 'isomorphic-base64'\n\n/**\n * Encode a JSON `object` as base-64 `string`.\n *\n * @param {Object} object\n * @return {String}\n */\n\nfunction encode(object) {\n  const string = JSON.stringify(object)\n  const encoded = btoa(encodeURIComponent(string))\n  return encoded\n}\n\n/**\n * Decode a base-64 `string` to a JSON `object`.\n *\n * @param {String} string\n * @return {Object}\n */\n\nfunction decode(string) {\n  const decoded = decodeURIComponent(atob(string))\n  const object = JSON.parse(decoded)\n  return object\n}\n\n/**\n * Deserialize a Value `string`.\n *\n * @param {String} string\n * @return {Value}\n */\n\nfunction deserialize(string, options) {\n  const raw = decode(string)\n  const value = Value.fromJSON(raw, options)\n  return value\n}\n\n/**\n * Deserialize a Node `string`.\n *\n * @param {String} string\n * @return {Node}\n */\n\nfunction deserializeNode(string, options) {\n  const raw = decode(string)\n  const node = Node.fromJSON(raw, options)\n  return node\n}\n\n/**\n * Serialize a `value`.\n *\n * @param {Value} value\n * @return {String}\n */\n\nfunction serialize(value, options) {\n  const raw = value.toJSON(options)\n  const encoded = encode(raw)\n  return encoded\n}\n\n/**\n * Serialize a `node`.\n *\n * @param {Node} node\n * @return {String}\n */\n\nfunction serializeNode(node, options) {\n  const raw = node.toJSON(options)\n  const encoded = encode(raw)\n  return encoded\n}\n\n/**\n * Export.\n *\n * @type {Object}\n */\n\nexport default {\n  deserialize,\n  deserializeNode,\n  serialize,\n  serializeNode,\n}\n"],"names":["encode","object","string","JSON","stringify","encoded","btoa","encodeURIComponent","decode","decoded","decodeURIComponent","atob","parse","deserialize","options","raw","value","Value","fromJSON","deserializeNode","node","Node","serialize","toJSON","serializeNode"],"mappings":";;;;;;;AAGA;;;;;;;AAOA,SAASA,MAAT,CAAgBC,MAAhB,EAAwB;MAChBC,SAASC,KAAKC,SAAL,CAAeH,MAAf,CAAf;MACMI,UAAUC,sBAAKC,mBAAmBL,MAAnB,CAAL,CAAhB;SACOG,OAAP;;;;;;;;;;AAUF,SAASG,MAAT,CAAgBN,MAAhB,EAAwB;MAChBO,UAAUC,mBAAmBC,sBAAKT,MAAL,CAAnB,CAAhB;MACMD,SAASE,KAAKS,KAAL,CAAWH,OAAX,CAAf;SACOR,MAAP;;;;;;;;;;AAUF,SAASY,WAAT,CAAqBX,MAArB,EAA6BY,OAA7B,EAAsC;MAC9BC,MAAMP,OAAON,MAAP,CAAZ;MACMc,QAAQC,YAAMC,QAAN,CAAeH,GAAf,EAAoBD,OAApB,CAAd;SACOE,KAAP;;;;;;;;;;AAUF,SAASG,eAAT,CAAyBjB,MAAzB,EAAiCY,OAAjC,EAA0C;MAClCC,MAAMP,OAAON,MAAP,CAAZ;MACMkB,OAAOC,WAAKH,QAAL,CAAcH,GAAd,EAAmBD,OAAnB,CAAb;SACOM,IAAP;;;;;;;;;;AAUF,SAASE,SAAT,CAAmBN,KAAnB,EAA0BF,OAA1B,EAAmC;MAC3BC,MAAMC,MAAMO,MAAN,CAAaT,OAAb,CAAZ;MACMT,UAAUL,OAAOe,GAAP,CAAhB;SACOV,OAAP;;;;;;;;;;AAUF,SAASmB,aAAT,CAAuBJ,IAAvB,EAA6BN,OAA7B,EAAsC;MAC9BC,MAAMK,KAAKG,MAAL,CAAYT,OAAZ,CAAZ;MACMT,UAAUL,OAAOe,GAAP,CAAhB;SACOV,OAAP;;;;;;;;;AASF,YAAe;0BAAA;kCAAA;sBAAA;;CAAf;;;;"}